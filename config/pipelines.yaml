# Dynamic Pipeline Configuration
# This file defines the available RAG pipelines and their configurations

pipelines:
  - name: "BasicRAG"
    module: "iris_rag.pipelines.basic"
    class: "BasicRAGPipeline"
    enabled: true
    params:
      top_k: 5
      chunk_size: 1000
      similarity_threshold: 0.7

  - name: "CRAG"
    module: "iris_rag.pipelines.crag"
    class: "CRAGPipeline"
    enabled: true
    params:
      top_k: 5
      confidence_threshold: 0.8
      use_web_search: false

  - name: "BasicRAGReranking"
    module: "iris_rag.pipelines.basic_rerank"
    class: "BasicRAGRerankingPipeline"
    enabled: true
    params:
      top_k: 5
      reranker_model: "cross-encoder/ms-marco-MiniLM-L-6-v2"
      rerank_factor: 2

  - name: "GraphRAG"
    module: "iris_rag.pipelines.graphrag"
    class: "GraphRAGPipeline"
    enabled: true
    params:
      top_k: 10
      max_depth: 2
      max_entities: 50
      similarity_threshold: 0.1

  - name: "ColBERT"
    module: "iris_rag.pipelines.colbert_pylate.pylate_pipeline"
    class: "PyLateColBERTPipeline"
    enabled: true
    params:
      top_k: 5
      rerank_factor: 2
      model_name: "lightonai/GTE-ModernColBERT-v1"
      batch_size: 32
      use_native_reranking: true
      cache_embeddings: true
      max_doc_length: 4096

# Framework dependencies (shared across all pipelines)
framework:
  llm:
    model: "gpt-4o-mini"
    temperature: 0
    max_tokens: 1024
  embeddings:
    model: "text-embedding-3-small"
    dimension: 1536