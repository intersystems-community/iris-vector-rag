# VECTOR(FLOAT) Migration Verification Report

## Verification Summary

- **Start Time**: 2025-06-01T20:13:26.626641
- **End Time**: 2025-06-01T20:13:30.605750
- **Duration**: 3.98 seconds
- **Migration Successful**: ❌ NO
- **All Tests Passed**: ❌ NO
- **Files Checked**: 891
- **VECTOR(DOUBLE) References Found**: 292
- **Critical Issues**: 1
- **Warnings**: 0

## Migration Verification Results

### ❌ VECTOR(DOUBLE) References Still Found

- **/Users/tdyar/ws/rag-templates/REMOTE_DEPLOYMENT_GUIDE.md** (line 67): `- `RAG.SourceDocuments` with `embedding VECTOR(DOUBLE, 384)``
- **/Users/tdyar/ws/rag-templates/REMOTE_DEPLOYMENT_GUIDE.md** (line 68): `- `RAG.DocumentChunks` with `embedding VECTOR(DOUBLE, 384)``
- **/Users/tdyar/ws/rag-templates/test_correct_vector_syntax.py** (line 74): `"sql": f"SELECT TO_VECTOR(?, 'DOUBLE', 384) as test_vector",`
- **/Users/tdyar/ws/rag-templates/test_correct_vector_syntax.py** (line 109): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 384), TO_VECTOR(?, 'DOUBLE', 384)) as similarity`
- **/Users/tdyar/ws/rag-templates/test_correct_vector_syntax.py** (line 120): `VECTOR_DOT_PRODUCT(TO_VECTOR(embedding, 'DOUBLE', 384), TO_VECTOR(?, 'DOUBLE', 384)) as similarity`
- **/Users/tdyar/ws/rag-templates/test_correct_vector_syntax.py** (line 149): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 384), TO_VECTOR(?, 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/test_correct_vector_syntax.py** (line 153): `AND VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 384), TO_VECTOR(?, 'DOUBLE', 384)) > 0.1`
- **/Users/tdyar/ws/rag-templates/VECTOR_MIGRATION_COMPLETE_SUMMARY.md** (line 34): `embedding VECTOR(DOUBLE, 384),  -- Native VECTOR type`
- **/Users/tdyar/ws/rag-templates/VECTOR_MIGRATION_COMPLETE_SUMMARY.md** (line 43): `embedding VECTOR(DOUBLE, 384),  -- Native VECTOR type`
- **/Users/tdyar/ws/rag-templates/test_simple_vector_functions.py** (line 55): `test_sql = "SELECT TO_VECTOR(?, 'DOUBLE', 3) as test_vector"`
- **/Users/tdyar/ws/rag-templates/test_simple_vector_functions.py** (line 86): `TO_VECTOR(?, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/test_simple_vector_functions.py** (line 87): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/test_simple_vector_functions.py** (line 108): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 384), TO_VECTOR(?, 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/test_direct_crag_sql.py** (line 35): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/test_direct_crag_sql.py** (line 38): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) > 0.0`
- **/Users/tdyar/ws/rag-templates/test_direct_crag_sql.py** (line 74): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/test_direct_crag_sql.py** (line 77): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE', 384)) > 0.0`
- **/Users/tdyar/ws/rag-templates/migration_report_20250601_191321.md** (line 1): `# VECTOR(DOUBLE) to VECTOR(FLOAT) Migration Report`
- **/Users/tdyar/ws/rag-templates/BIOBERT_OPTIMIZATION_PLAN.md** (line 31): `- Need to update table schema: `VECTOR(DOUBLE, 768)``
- **/Users/tdyar/ws/rag-templates/migration_report_20250601_201106.md** (line 1): `# VECTOR(DOUBLE) to VECTOR(FLOAT) Migration Report`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_jdbc.py** (line 57): `TO_VECTOR('[{query_embedding_str}]', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_jdbc.py** (line 63): `TO_VECTOR('[{query_embedding_str}]', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 49): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 50): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 55): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 56): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 69): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 70): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 75): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_refactored.py** (line 76): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_direct_sql.py** (line 58): `TO_VECTOR('{query_embedding_str}', 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_direct_sql.py** (line 64): `TO_VECTOR('{query_embedding_str}', 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_stored_proc.py** (line 60): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(query_vector, 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_stored_proc.py** (line 63): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR(query_vector, 'DOUBLE')) > threshold`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_stored_proc.py** (line 120): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_stored_proc.py** (line 123): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_chunked_vector.py** (line 99): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{full_vector_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_chunked_vector.py** (line 102): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{full_vector_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_file_vector.py** (line 81): `TO_VECTOR(RAG.ReadVectorFromFile('{temp_file_path}'), 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/basic_rag/pipeline_file_vector.py** (line 87): `TO_VECTOR(RAG.ReadVectorFromFile('{temp_file_path}'), 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/archive/debug_basicrag_fallback.py** (line 45): `test_sql = f"SELECT TO_VECTOR('{test_vector}', 'DOUBLE', 3) as test_vector"`
- **/Users/tdyar/ws/rag-templates/archive/debug_basicrag_fallback.py** (line 121): `VECTOR_COSINE(embedding, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archive/debug_basicrag_fallback.py** (line 124): `AND VECTOR_COSINE(embedding, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/archive/debug_basicrag_fallback.py** (line 195): `VECTOR_COSINE(embedding, TO_VECTOR('{test_case['embedding_str']}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archive/debug_crag_sql.py** (line 39): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archive/debug_crag_sql.py** (line 42): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/archive/debug_crag_sql.py** (line 55): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archive/debug_crag_sql.py** (line 58): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/JDBC_MIGRATION_PLAN.md** (line 59): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/JDBC_MIGRATION_PLAN.md** (line 60): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/JDBC_MIGRATION_PLAN.md** (line 69): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/JDBC_MIGRATION_PLAN.md** (line 70): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/JDBC_MIGRATION_PLAN.md** (line 96): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/JDBC_MIGRATION_PLAN.md** (line 97): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/iris_jdbc_connector.py** (line 206): `TO_VECTOR(?, 'DOUBLE', 3),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/iris_jdbc_connector.py** (line 221): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/iris_jdbc_connector.py** (line 222): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/README.md** (line 81): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/README.md** (line 82): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/quick_jdbc_test_fixed.py** (line 125): `TO_VECTOR(?, 'DOUBLE', 3),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/quick_jdbc_test_fixed.py** (line 144): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/jdbc_exploration/quick_jdbc_test_fixed.py** (line 145): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_integration.py** (line 364): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_integration.py** (line 376): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_integration.py** (line 451): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_query_patterns.py** (line 121): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_query_patterns.py** (line 171): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_query_patterns.py** (line 233): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_query_patterns.py** (line 298): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_query_patterns.py** (line 385): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_query_patterns.py** (line 527): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_performance.py** (line 170): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_performance.py** (line 187): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_performance.py** (line 256): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_performance.py** (line 372): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_performance.py** (line 445): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_performance.py** (line 534): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_indexes.py** (line 125): `VECTOR_COSINE(embedding, TO_VECTOR('[{query_str}]', 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_indexes.py** (line 128): `ORDER BY VECTOR_COSINE(embedding, TO_VECTOR('[{query_str}]', 'DOUBLE', 768)) DESC`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_benchmark_integration.py** (line 150): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_benchmark_integration.py** (line 163): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/tests/test_hnsw_benchmark_integration.py** (line 414): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) as similarity`
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENT_CHUNKING_ARCHITECTURE.md** (line 59): `embedding_vector VECTOR(DOUBLE, 768) COMPUTECODE {`
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENT_CHUNKING_ARCHITECTURE.md** (line 61): `set {embedding_vector} = $$$TO_VECTOR({embedding_str}, "DOUBLE", 768)`
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENT_CHUNKING_ARCHITECTURE.md** (line 249): `VECTOR_COSINE_DISTANCE(c.embedding_vector, TO_VECTOR(?, 'DOUBLE', 768)) as distance,`
- **/Users/tdyar/ws/rag-templates/docs/DETAILED_IMPLEMENTATION_PLAN.md** (line 40): `SELECT TOP :top_k doc_id, text_content, VECTOR_COSINE(embedding, TO_VECTOR(:query_embedding_literal, 'DOUBLE', :embedding_dim)) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/docs/DETAILED_IMPLEMENTATION_PLAN.md** (line 80): `#            VECTOR_COSINE(embedding, TO_VECTOR('{iris_vector_str}', 'DOUBLE', {embedding_dimension})) AS score`
- **/Users/tdyar/ws/rag-templates/docs/DETAILED_IMPLEMENTATION_PLAN.md** (line 138): `#            VECTOR_COSINE(embedding, TO_VECTOR('{iris_vector_str}', 'DOUBLE', {embedding_dimension})) AS score`
- **/Users/tdyar/ws/rag-templates/docs/DETAILED_IMPLEMENTATION_PLAN.md** (line 174): `#            VECTOR_COSINE(embedding, TO_VECTOR('{iris_vector_str}', 'DOUBLE', {embedding_dimension})) AS score`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_VECTOR_LIMITATIONS.md** (line 142): `VECTOR_COSINE(embedding, TO_VECTOR('{vector_str}', 'DOUBLE', {VECTOR_DIM})) AS score`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_VECTOR_LIMITATIONS.md** (line 164): `_ "VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) AS score "`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_CHANGE_SUGGESTIONS.md** (line 28): `TO_VECTOR(:embedding, 'DOUBLE', 768)`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_CHANGE_SUGGESTIONS.md** (line 41): `SQLCODE -1, ") expected, : found" whenever a ?/:%qpar or named parameter is used inside TO_VECTOR()	VECTOR_COSINE(embedding, TO_VECTOR(:vec,'DOUBLE',768))	The TO_VECTOR docs show only literal strings and state that “input data will always be of type string, unless you are using the function in Dynamic SQL”  ￼. No mention is made of host variables, implying—but not spelling out—that binding is unsupported.`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_SYNTAX_FINDINGS.md** (line 19): `- 'double' is used without quotes: `TO_VECTOR(?, double, 384)` instead of `TO_VECTOR(?, 'double', 384)``
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_SYNTAX_FINDINGS.md** (line 114): `- 'double' is used without quotes: `TO_VECTOR(?, double, 384)` instead of `TO_VECTOR(?, 'double', 384)``
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_VECTOR_OPERATIONS.md** (line 28): `VECTOR_COSINE(embedding, TO_VECTOR(?, 'DOUBLE', 768)) AS score`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_VECTOR_OPERATIONS.md** (line 167): `VECTOR_COSINE(embedding, TO_VECTOR('{vector_str}', 'DOUBLE', {VECTOR_DIM})) AS score`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_VECTOR_OPERATIONS.md** (line 204): `VECTOR_COSINE(embedding, TO_VECTOR('{vector_string}', 'DOUBLE', 768)) AS score`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_SQL_VECTOR_OPERATIONS.md** (line 235): `to_vector_argument_sql = f"TO_VECTOR('{inner_vector_content}', 'DOUBLE', {VECTOR_DIM})"`
- **/Users/tdyar/ws/rag-templates/docs/iris_sql_vector_limitations_bug_report.md** (line 12): `TO_VECTOR(:embedding, 'DOUBLE', 768)`
- **/Users/tdyar/ws/rag-templates/docs/iris_sql_vector_limitations_bug_report.md** (line 34): `| `SQLCODE -1, ") expected, : found"` whenever `?`, `:vec`, or `:%qpar` is used inside `TO_VECTOR()` | `VECTOR_COSINE(embedding, TO_VECTOR(:vec,'DOUBLE',768))` | The **TO_VECTOR** docs show only literal strings and note that *input data will always be of type **string**, unless you are using the function in Dynamic SQL* [^1]. |`
- **/Users/tdyar/ws/rag-templates/docs/iris_sql_vector_limitations_bug_report.md** (line 70): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_AND_CHUNKING_FIX_COMPLETE.md** (line 39): `- `RAG.SourceDocuments.embedding` → `VECTOR(DOUBLE, 768)``
- **/Users/tdyar/ws/rag-templates/docs/HNSW_AND_CHUNKING_FIX_COMPLETE.md** (line 40): `- `RAG.DocumentChunks.embedding` → `VECTOR(DOUBLE, 768)``
- **/Users/tdyar/ws/rag-templates/docs/HNSW_AND_CHUNKING_FIX_COMPLETE.md** (line 41): `- `RAG.KnowledgeGraphNodes.embedding` → `VECTOR(DOUBLE, 768)``
- **/Users/tdyar/ws/rag-templates/docs/HNSW_AND_CHUNKING_FIX_COMPLETE.md** (line 42): `- `RAG.DocumentTokenEmbeddings.token_embedding` → `VECTOR(DOUBLE, 128)``
- **/Users/tdyar/ws/rag-templates/docs/HNSW_AND_CHUNKING_FIX_COMPLETE.md** (line 156): `3. **Convert Data:** Use `TO_VECTOR(varchar_data, 'DOUBLE', dimension)``
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENTCHUNKS_MIGRATION_INVESTIGATION.md** (line 12): `- Successfully created `DocumentChunks_V2` table with native `VECTOR(DOUBLE, 384)` column`
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENTCHUNKS_MIGRATION_INVESTIGATION.md** (line 45): `SET chunk_embedding_vector = TO_VECTOR(embedding, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENTCHUNKS_MIGRATION_INVESTIGATION.md** (line 50): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/docs/DOCUMENTCHUNKS_MIGRATION_INVESTIGATION.md** (line 51): `TO_VECTOR('...', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/docs/SCHEMA_CLEANUP_COMPLETE.md** (line 62): `1. **Removed VARCHAR Vector Storage** - All schemas now use proper `VECTOR(DOUBLE, 768)` data types`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_SEARCH_COLON_BUG_REPORT.md** (line 41): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{embedding_str}', 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/docs/CHUNK_RETRIEVAL_SQL_FIX_COMPLETE.md** (line 15): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 768), TO_VECTOR('{query_vector_str}', 'DOUBLE', 768))`
- **/Users/tdyar/ws/rag-templates/docs/CHUNK_RETRIEVAL_SQL_FIX_COMPLETE.md** (line 19): `1. **Redundant TO_VECTOR()**: The `embedding` column is already `VECTOR(DOUBLE, 768)` type`
- **/Users/tdyar/ws/rag-templates/docs/CHUNK_RETRIEVAL_SQL_FIX_COMPLETE.md** (line 31): `**Rationale**: Since `embedding` is already `VECTOR(DOUBLE, 768)`, we don't need `TO_VECTOR()` wrapper.`
- **/Users/tdyar/ws/rag-templates/docs/CHUNK_RETRIEVAL_SQL_FIX_COMPLETE.md** (line 65): `embedding VECTOR(DOUBLE, 768),  -- Already proper VECTOR type`
- **/Users/tdyar/ws/rag-templates/docs/CHUNK_RETRIEVAL_SQL_FIX_COMPLETE.md** (line 157): `**Fix Summary**: Corrected IRIS vector syntax from `TO_VECTOR(embedding, 'DOUBLE', 768)` to direct `embedding` usage, since the column is already `VECTOR(DOUBLE, 768)` type. Implemented proper parameter binding for safe query execution.`
- **/Users/tdyar/ws/rag-templates/docs/CHUNK_RETRIEVAL_SQL_FIX_COMPLETE.md** (line 157): `**Fix Summary**: Corrected IRIS vector syntax from `TO_VECTOR(embedding, 'DOUBLE', 768)` to direct `embedding` usage, since the column is already `VECTOR(DOUBLE, 768)` type. Implemented proper parameter binding for safe query execution.`
- **/Users/tdyar/ws/rag-templates/docs/V2_PIPELINE_PERFORMANCE_SUMMARY.md** (line 31): `TO_VECTOR(embedding, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/docs/V2_PIPELINE_PERFORMANCE_SUMMARY.md** (line 59): `document_embedding_vector VECTOR(DOUBLE, 384)`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_SEARCH_BUG_SUMMARY.md** (line 11): `- **Cause**: IRIS SQL parser incorrectly interprets the string literal `'DOUBLE'` in `TO_VECTOR(embedding, 'DOUBLE', 3)` as containing a parameter marker`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_SEARCH_BUG_SUMMARY.md** (line 18): `SELECT TO_VECTOR(embedding, 'DOUBLE', 3) FROM table`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_SEARCH_BUG_SUMMARY.md** (line 30): `-- V2 tables with VECTOR(DOUBLE, 384) columns`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_SEARCH_BUG_SUMMARY.md** (line 41): `-- Instead of: TO_VECTOR(embedding, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VS_NONHNSW_COMPARISON_FRAMEWORK_COMPLETE.md** (line 11): `- **Native VECTOR Types**: Framework includes HNSW schema deployment with native VECTOR(DOUBLE, 768) columns`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VS_NONHNSW_COMPARISON_FRAMEWORK_COMPLETE.md** (line 63): `- **Native VECTOR Columns**: `embedding_vector VECTOR(DOUBLE, 768)``
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VS_NONHNSW_COMPARISON_FRAMEWORK_COMPLETE.md** (line 106): `embedding_vector VECTOR(DOUBLE, 768),  -- Native HNSW indexing`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_JIRA_IMPROVEMENTS.md** (line 23): `embedding VECTOR(DOUBLE, 768)  -- Declared as VECTOR`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_JIRA_IMPROVEMENTS.md** (line 36): `embedding VECTOR(DOUBLE, 768)  -- Should remain VECTOR type`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_JIRA_IMPROVEMENTS.md** (line 40): `-- Column 'embedding' maintains VECTOR(DOUBLE, 768) type`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_JIRA_IMPROVEMENTS.md** (line 69): `CREATE TABLE vector_test (id INT, vec VECTOR(DOUBLE, 384));`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_JIRA_IMPROVEMENTS.md** (line 158): `embedding VECTOR(DOUBLE, 384)`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VIEW_TEST_RESULTS.md** (line 38): `TO_VECTOR(embedding, 'double', 384) AS vector_embedding,`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VIEW_TEST_RESULTS.md** (line 49): `[%msg: < ) expected, LITERAL ('double') found ^                 TO_VECTOR(embedding, 'double'>]`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VIEW_TEST_RESULTS.md** (line 60): `vector_embedding AS TO_VECTOR(embedding, 'double', 384)`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VIEW_TEST_RESULTS.md** (line 81): `TO_VECTOR(embedding, 'double', 384) AS vector_embedding,`
- **/Users/tdyar/ws/rag-templates/docs/HNSW_VIEW_TEST_RESULTS.md** (line 92): `[%msg: < ) expected, LITERAL ('double') found ^                     TO_VECTOR(embedding, 'double'>]`
- **/Users/tdyar/ws/rag-templates/docs/CHUNKING_IMPLEMENTATION_PLAN.md** (line 113): `VECTOR_COSINE_DISTANCE(c.embedding_vector, TO_VECTOR(?, 'DOUBLE', 768)) as distance,`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_PYTHON_DRIVER_PARAMETER_BUG.md** (line 18): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)) as similarity_score`
- **/Users/tdyar/ws/rag-templates/docs/FINAL_PRODUCTION_STATUS.md** (line 107): `embedding VECTOR(DOUBLE, 384),`
- **/Users/tdyar/ws/rag-templates/docs/FINAL_PRODUCTION_STATUS.md** (line 117): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_REALITY_REPORT.md** (line 22): `**Test Performed:** Created table with `VECTOR(DOUBLE, 768)` column`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_REALITY_REPORT.md** (line 30): `embedding VECTOR(DOUBLE, 768)`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_REALITY_REPORT.md** (line 134): `- Uses `VECTOR(DOUBLE, 768)` data type ❌`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_REALITY_REPORT.md** (line 139): `- Uses `VECTOR(DOUBLE, 768)` data type ❌`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_VECTOR_REALITY_REPORT.md** (line 159): `- Uses `VECTOR(DOUBLE, 768)` data type ❌`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_DOCUMENTATION_PLAN.md** (line 124): `CREATE TABLE test (embedding VECTOR(DOUBLE, 768));`
- **/Users/tdyar/ws/rag-templates/docs/VECTOR_SEARCH_DOCUMENTATION_PLAN.md** (line 200): `TO_VECTOR(?, 'double', 384)   -- Fails everywhere`
- **/Users/tdyar/ws/rag-templates/docs/UPDATED_DOCUMENT_CHUNKING_ARCHITECTURE.md** (line 202): `embedding_vector VECTOR(DOUBLE, 768) COMPUTECODE {`
- **/Users/tdyar/ws/rag-templates/docs/UPDATED_DOCUMENT_CHUNKING_ARCHITECTURE.md** (line 204): `set {embedding_vector} = $$$TO_VECTOR({embedding_str}, "DOUBLE", 768)`
- **/Users/tdyar/ws/rag-templates/docs/IMPLEMENTATION_PLAN.md** (line 41): `VECTOR_COSINE(embedding, TO_VECTOR('{vector_string}', 'DOUBLE', 768)) AS score`
- **/Users/tdyar/ws/rag-templates/docs/iris_vector_error_example.py** (line 23): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/docs/iris_vector_error_example.py** (line 24): `TO_VECTOR('{embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/docs/IRIS_2025_VECTOR_SEARCH_DEPLOYMENT_REPORT.md** (line 57): `CREATE TABLE test (embedding VECTOR(DOUBLE, 768))`
- **/Users/tdyar/ws/rag-templates/chunking/direct_v2_chunking_service.py** (line 92): `) VALUES (?, ?, ?, ?, ?, ?, TO_VECTOR('{vector_str}', 'DOUBLE', 384))`
- **/Users/tdyar/ws/rag-templates/chunking/direct_chunking_final.py** (line 174): `SET chunk_embedding_vector = TO_VECTOR(embedding, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/chunking/update_v2_vectors.py** (line 54): `update_sql = f"UPDATE RAG.DocumentChunks_V2 SET chunk_embedding_vector = TO_VECTOR(embedding, 'DOUBLE', 384) WHERE chunk_id = '{chunk_id}'"`
- **/Users/tdyar/ws/rag-templates/chunking/direct_v2_chunking_service_simple.py** (line 82): `SET chunk_embedding_vector = TO_VECTOR('{embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/common/vector_sql_utils.py** (line 157): `select_clause += f", VECTOR_COSINE({vector_column}, TO_VECTOR('{vector_string}', 'DOUBLE', {embedding_dim})) AS score"`
- **/Users/tdyar/ws/rag-templates/scripts/migrate_vector_double_to_float.py** (line 307): `# Also replace TO_VECTOR(..., 'DOUBLE', ...) with TO_VECTOR(..., 'FLOAT', ...)`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 5): `This script verifies that the VECTOR(DOUBLE) to VECTOR(FLOAT) migration was successful by:`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 6): `1. Searching for any remaining VECTOR(DOUBLE) references in the codebase`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 123): `"""Add a found VECTOR(DOUBLE) reference"""`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 163): `# Check if migration was successful (no VECTOR(DOUBLE) references found)`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 230): `f.write(f"- **VECTOR(DOUBLE) References Found**: {summary['vector_double_references_found']}\n")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 237): `f.write("### ❌ VECTOR(DOUBLE) References Still Found\n\n")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 242): `f.write("### ✅ No VECTOR(DOUBLE) References Found\n\n")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 243): `f.write("All VECTOR(DOUBLE) references have been successfully migrated to VECTOR(FLOAT).\n\n")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 317): `# Step 1: Check for remaining VECTOR(DOUBLE) references`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 318): `self.logger.info("Step 1: Checking for remaining VECTOR(DOUBLE) references...")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 320): `self.logger.error("Found remaining VECTOR(DOUBLE) references")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 323): `self.logger.info("No VECTOR(DOUBLE) references found - migration successful!")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 368): `"""Check for any remaining VECTOR(DOUBLE) references in the codebase"""`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 369): `self.logger.info("Scanning codebase for VECTOR(DOUBLE) references...")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 374): `# Pattern to match VECTOR(DOUBLE) with optional dimension`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 387): `# Check for VECTOR(DOUBLE) pattern`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 389): `self.logger.warning(f"Found VECTOR(DOUBLE) in {file_path}:{line_num}")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 406): `self.report.add_critical_issue("VECTOR(DOUBLE) references still found in codebase")`
- **/Users/tdyar/ws/rag-templates/scripts/verify_vector_float_migration.py** (line 412): `"""Get list of files to check for VECTOR(DOUBLE) references"""`
- **/Users/tdyar/ws/rag-templates/scripts/comprehensive_sql_cleanup_and_vector_implementation.py** (line 175): `cursor.execute(f"SELECT TO_VECTOR('{test_embedding}', 'DOUBLE', 5) AS vector_result")`
- **/Users/tdyar/ws/rag-templates/scripts/comprehensive_sql_cleanup_and_vector_implementation.py** (line 203): `TO_VECTOR('{embedding1}', 'DOUBLE', 5),`
- **/Users/tdyar/ws/rag-templates/scripts/comprehensive_sql_cleanup_and_vector_implementation.py** (line 204): `TO_VECTOR('{embedding2}', 'DOUBLE', 5)`
- **/Users/tdyar/ws/rag-templates/scripts/comprehensive_sql_cleanup_and_vector_implementation.py** (line 237): `set {embedding_vector} = $$$TO_VECTOR({embedding_str}, "DOUBLE", 768)`
- **/Users/tdyar/ws/rag-templates/scripts/comprehensive_sql_cleanup_and_vector_implementation.py** (line 377): `set {embedding_vector} = $$$TO_VECTOR({embedding_str}, "DOUBLE", 768)`
- **/Users/tdyar/ws/rag-templates/scripts/convert_varchar_to_vector_columns.py** (line 212): `SET {new_column_name} = TO_VECTOR(?, 'DOUBLE', {dimension})`
- **/Users/tdyar/ws/rag-templates/scripts/investigate_vector_indexing_reality.py** (line 251): `TO_VECTOR(embedding, 'DOUBLE', 768),`
- **/Users/tdyar/ws/rag-templates/scripts/investigate_vector_indexing_reality.py** (line 252): `TO_VECTOR('{test_vector}', 'DOUBLE', 768)`
- **/Users/tdyar/ws/rag-templates/scripts/fair_v2_performance_comparison.py** (line 31): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/scripts/fair_v2_performance_comparison.py** (line 32): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug4_stored_procedures.py** (line 72): `VALUES (?, ?, ?, ?, TO_VECTOR('{embedding}', 'DOUBLE', 4))`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug4_stored_procedures.py** (line 112): `VECTOR_COSINE(embedding_vector, TO_VECTOR(query_vector, 'DOUBLE', 4)) as similarity`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug4_stored_procedures.py** (line 155): `TO_VECTOR(query_vector, 'DOUBLE', vector_dim)`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug4_stored_procedures.py** (line 160): `TO_VECTOR(query_vector, 'DOUBLE', vector_dim)`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug4_stored_procedures.py** (line 271): `VECTOR_COSINE(embedding_vector, TO_VECTOR('{query_vector}', 'DOUBLE', 4)) as score`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 101): `f"INSERT INTO TestVectorBugs.VectorAsVector (id, name, embedding) VALUES (?, ?, TO_VECTOR('{embedding}', 'DOUBLE', 4))",`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 108): `f"INSERT INTO TestVectorBugs.VectorMixed (id, name, embedding_varchar, embedding_vector) VALUES (?, ?, ?, TO_VECTOR('{embedding}', 'DOUBLE', 4))",`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 130): `ON TestVectorBugs.VectorAsVarchar (TO_VECTOR(embedding, 'DOUBLE', 4))`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 158): `ON TestVectorBugs.VectorAsVarchar (TO_VECTOR(embedding, 'DOUBLE', 4))`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 193): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 4), TO_VECTOR('{query_vector}', 'DOUBLE', 4)) as score`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 210): `VECTOR_COSINE(embedding, TO_VECTOR('{query_vector}', 'DOUBLE', 4)) as score`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug2_hnsw_varchar.py** (line 247): `SELECT id, name, embedding, TO_VECTOR(embedding, 'DOUBLE', 4)`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug3_vector_driver_support.py** (line 119): `VALUES (?, ?, ?, TO_VECTOR('{vector_str}', 'DOUBLE', 4))`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug3_vector_driver_support.py** (line 173): `VECTOR_COSINE(embedding_vector, TO_VECTOR('{query_vector}', 'DOUBLE', 4)) as score`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug3_vector_driver_support.py** (line 247): `VALUES (TO_VECTOR('{vector_str}', 'DOUBLE', {len(vector)}))`
- **/Users/tdyar/ws/rag-templates/bug_reproductions/bug3_vector_driver_support.py** (line 271): `cursor.execute(f"... TO_VECTOR('{safe_str}', 'DOUBLE', 4) ...")`
- **/Users/tdyar/ws/rag-templates/archive/performance_investigation/test_fresh_start.py** (line 58): `TO_VECTOR(embedding, 'DOUBLE', 5),`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/test_refactored_debug.py** (line 25): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/test_refactored_debug.py** (line 26): `TO_VECTOR('{embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/test_refactored_debug.py** (line 31): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/test_refactored_debug.py** (line 32): `TO_VECTOR('{embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/migrate_document_chunks_v2_only.py** (line 94): `SET chunk_embedding_vector = TO_VECTOR(embedding, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/migrate_document_chunks_v2_only.py** (line 125): `SET chunk_embedding_vector = TO_VECTOR(embedding, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archive/migration_backup_20250530_135241/migrate_document_chunks_v2_only.py** (line 191): `VECTOR_COSINE(chunk_embedding_vector, TO_VECTOR(embedding, 'DOUBLE', 384)) as similarity`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_jdbc.py** (line 59): `TO_VECTOR('[{query_embedding_str}]', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_jdbc.py** (line 65): `TO_VECTOR('[{query_embedding_str}]', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 49): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 50): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 55): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 56): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 69): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 70): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 75): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_refactored.py** (line 76): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_direct_sql.py** (line 58): `TO_VECTOR('{query_embedding_str}', 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_direct_sql.py** (line 64): `TO_VECTOR('{query_embedding_str}', 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_stored_proc.py** (line 60): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(query_vector, 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_stored_proc.py** (line 63): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR(query_vector, 'DOUBLE')) > threshold`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_stored_proc.py** (line 120): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_stored_proc.py** (line 123): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_chunked_vector.py** (line 99): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{full_vector_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_chunked_vector.py** (line 102): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{full_vector_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_vector.py** (line 52): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_vector.py** (line 55): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_file_vector.py** (line 81): `TO_VECTOR(RAG.ReadVectorFromFile('{temp_file_path}'), 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/basic_rag/pipeline_file_vector.py** (line 87): `TO_VECTOR(RAG.ReadVectorFromFile('{temp_file_path}'), 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/graphrag/pipeline_broken.py** (line 67): `VECTOR_COSINE(embedding, TO_VECTOR('{iris_vector_str}', 'DOUBLE', {db_embedding_dimension})) AS score`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/crag/pipeline_v2.py** (line 53): `TO_VECTOR(RAG.SourceDocuments.embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/archived_pipelines/crag/pipeline_v2.py** (line 54): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bug_dbapi.py** (line 89): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 3),`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bug_dbapi.py** (line 98): `SELECT id, name, TO_VECTOR(embedding, 'DOUBLE', 3) as vector_result`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_colon_bug.py** (line 78): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_colon_bug.py** (line 99): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 50): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 53): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) > 0.1`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 63): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 66): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE')) > ?`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 88): `VECTOR_DOT_PRODUCT(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 100): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 120): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE')) AS similarity_score`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_hnsw_syntax_systematic.py** (line 123): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR(?, 'DOUBLE')) > ?`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bugs_minimal_demo.py** (line 116): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 3),`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bugs_minimal_demo.py** (line 137): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 3),`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bugs_minimal_demo.py** (line 138): `TO_VECTOR(?, 'DOUBLE', 3)) as similarity`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bugs_minimal_demo.py** (line 161): `VECTOR_COSINE(TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/scripts/testing/test_iris_vector_bugs_minimal_demo.py** (line 162): `TO_VECTOR('{long_vector}', 'DOUBLE', 384)) as similarity`
- **/Users/tdyar/ws/rag-templates/scripts/migration/test_vector_query.sql** (line 5): `SELECT TO_VECTOR('0.1:0.2:0.3', 'DOUBLE', 3);`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_sql.py** (line 18): `# This will match TO_VECTOR(?, 'DOUBLE', 384) or similar`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_sql.py** (line 24): `return f"TO_VECTOR('{{{query_embedding_str}}}', 'DOUBLE', {dimensions})"`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_all_v2_pipelines.py** (line 24): `r"TO_VECTOR('{query_embedding_str}', 'DOUBLE', \1)", content)`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_all_v2_pipelines.py** (line 26): `r"TO_VECTOR('{query_embedding_str}', 'DOUBLE')", content)`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_all_v2_pipelines.py** (line 75): `content = content.replace("TO_VECTOR(embedding, ?)", "TO_VECTOR(embedding, 'DOUBLE', 384)")`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_params.py** (line 24): `# Replace TO_VECTOR(?, DOUBLE, 384) with TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_params.py** (line 25): `content = content.replace("TO_VECTOR(?, DOUBLE, 384)", "TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)")`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_params.py** (line 26): `content = content.replace("TO_VECTOR(?, DOUBLE, 128)", "TO_VECTOR('{query_embedding_str}', 'DOUBLE', 128)")`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_params.py** (line 27): `content = content.replace("TO_VECTOR(?, DOUBLE)", "TO_VECTOR('{query_embedding_str}', 'DOUBLE')")`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_params.py** (line 43): `content = content.replace("TO_VECTOR(embedding, ?)", "TO_VECTOR(embedding, 'DOUBLE', 384)")`
- **/Users/tdyar/ws/rag-templates/scripts/migration/fix_v2_pipelines_params.py** (line 44): `content = content.replace("TO_VECTOR(?, ?)", "TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)")`
- **/Users/tdyar/ws/rag-templates/src/experimental/hybrid_ifind_rag/schema.sql** (line 204): `VECTOR_COSINE(TO_VECTOR(d.embedding), TO_VECTOR(?, 'DOUBLE')) as similarity_score, -- Assuming embedding is string`
- **/Users/tdyar/ws/rag-templates/src/experimental/hybrid_ifind_rag/schema.sql** (line 205): `ROW_NUMBER() OVER (ORDER BY VECTOR_COSINE(TO_VECTOR(d.embedding), TO_VECTOR(?, 'DOUBLE')) DESC) as rank_position`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_jdbc.py** (line 57): `TO_VECTOR('[{query_embedding_str}]', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_jdbc.py** (line 63): `TO_VECTOR('[{query_embedding_str}]', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 65): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 66): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 71): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 72): `TO_VECTOR(?, 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 85): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 86): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 91): `TO_VECTOR(embedding, 'DOUBLE', 384),`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_refactored.py** (line 92): `TO_VECTOR('{query_embedding_str}', 'DOUBLE', 384)`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_direct_sql.py** (line 58): `TO_VECTOR('{query_embedding_str}', 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_direct_sql.py** (line 64): `TO_VECTOR('{query_embedding_str}', 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_stored_proc.py** (line 60): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR(query_vector, 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_stored_proc.py** (line 63): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR(query_vector, 'DOUBLE')) > threshold`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_stored_proc.py** (line 124): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_stored_proc.py** (line 127): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{query_embedding_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_chunked_vector.py** (line 99): `VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{full_vector_str}', 'DOUBLE')) as similarity_score`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_chunked_vector.py** (line 102): `AND VECTOR_COSINE(document_embedding_vector, TO_VECTOR('{full_vector_str}', 'DOUBLE')) > {similarity_threshold}`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_temp_table.py** (line 67): `# The original code used TO_VECTOR(?, 'DOUBLE') which implies the input is a string.`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_temp_table.py** (line 69): `"INSERT INTO RAG.TempQueryVector (query_id, vector_data) VALUES (1, TO_VECTOR(?, 'DOUBLE'))",`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_file_vector.py** (line 82): `TO_VECTOR(RAG.ReadVectorFromFile('{temp_file_path}'), 'DOUBLE')`
- **/Users/tdyar/ws/rag-templates/src/deprecated/basic_rag/pipeline_file_vector.py** (line 88): `TO_VECTOR(RAG.ReadVectorFromFile('{temp_file_path}'), 'DOUBLE')`

## Database Test Results

- **Connection Test**: ❌ FAILED
- **Vector Float Table Creation**: ❌ FAILED
- **Vector Operations**: ❌ FAILED
- **Hnsw Indexing**: ❌ FAILED

## RAG Pipeline Test Results

- **Basic Rag Test**: ❌ FAILED
- **Vector Similarity Search**: ❌ FAILED
- **End To End Query**: ❌ FAILED

## Critical Issues

- VECTOR(DOUBLE) references still found in codebase

