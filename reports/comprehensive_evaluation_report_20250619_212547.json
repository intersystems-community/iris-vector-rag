{
  "report_metadata": {
    "title": "RAG Templates Comprehensive Evaluation Report",
    "generated_at": "2025-06-19T21:25:42.363652",
    "schema_version": "config-driven",
    "report_version": "1.0"
  },
  "executive_summary": {
    "overall_health": "Poor",
    "health_score": 45.1,
    "health_factors": [
      "Data: 40%",
      "Pipelines: 3/7",
      "Performance: fair"
    ],
    "key_metrics": {
      "total_documents": 970,
      "operational_pipelines": "3/7",
      "best_performing_pipeline": "ColBERT",
      "avg_response_time_ms": 54.89
    },
    "next_actions": [
      "Complete data population for remaining pipelines",
      "Address identified performance bottlenecks",
      "Migrate remaining scripts to config-driven approach"
    ]
  },
  "data_infrastructure": {
    "total_documents": 970,
    "table_readiness_percent": 40.0,
    "ready_tables": 2,
    "total_tables": 5,
    "missing_components": [
      "document_entities",
      "document_chunks",
      "ifind_index"
    ],
    "table_details": {
      "source_documents": {
        "description": "Main document store",
        "table_name": "RAG.SourceDocuments",
        "count": 970,
        "status": "ready"
      },
      "document_entities": {
        "description": "GraphRAG entities",
        "table_name": "RAG.Entities",
        "count": 0,
        "status": "empty"
      },
      "document_token_embeddings": {
        "description": "ColBERT tokens",
        "table_name": "RAG.DocumentTokenEmbeddings",
        "count": 79899,
        "status": "ready"
      },
      "document_chunks": {
        "description": "CRAG/NodeRAG chunks",
        "table_name": "RAG.DocumentChunks",
        "count": 0,
        "status": "empty"
      },
      "ifind_index": {
        "description": "IFind optimization",
        "status": "error",
        "error": "java.sql.SQLException: [SQLCODE: <-30>:<Table or view not found>]\r\n[Location: <Prepare>]\r\n[%msg: < Table 'RAG.SOURCEDOCUMENTSIFINDINDEX' not found>]"
      }
    }
  },
  "pipeline_evaluation": {
    "total_pipelines_tested": 3,
    "pipelines_failed": 0,
    "overall_performance": {
      "avg_retrieval_score": 0.727,
      "avg_relevance_score": 0.783,
      "avg_response_time_ms": 810.4
    },
    "best_pipeline": "ColBERT",
    "pipeline_rankings": [
      [
        "ColBERT",
        0.775
      ],
      [
        "BasicRAG",
        0.745
      ],
      [
        "HyDE",
        0.745
      ]
    ],
    "pipeline_analysis": {
      "BasicRAG": {
        "status": "operational",
        "avg_retrieval_score": 0.717,
        "avg_relevance_score": 0.773,
        "avg_response_time_ms": 810.4,
        "performance_grade": "C"
      },
      "HyDE": {
        "status": "operational",
        "avg_retrieval_score": 0.717,
        "avg_relevance_score": 0.773,
        "avg_response_time_ms": 810.4,
        "performance_grade": "C"
      },
      "ColBERT": {
        "status": "operational",
        "avg_retrieval_score": 0.747,
        "avg_relevance_score": 0.803,
        "avg_response_time_ms": 810.4,
        "performance_grade": "C"
      }
    }
  },
  "performance_analysis": {
    "performance_assessment": "fair",
    "avg_operation_time_ms": 54.89,
    "max_operation_time_ms": 116.02,
    "bottleneck_count": 1,
    "critical_bottlenecks": [],
    "memory_usage_mb": 1.33,
    "bottlenecks": [
      {
        "operation": "complex_select_query",
        "duration_ms": 116.02187156677246,
        "severity": "medium"
      }
    ]
  },
  "recommendations": [
    {
      "category": "Data Infrastructure",
      "priority": "High",
      "title": "Complete Data Population",
      "description": "Populate missing data components: document_entities, document_chunks, ifind_index",
      "action": "Run data population scripts for missing tables",
      "impact": "Enable additional RAG pipelines"
    },
    {
      "category": "Pipeline Optimization",
      "priority": "Low",
      "title": "Optimize Based on ColBERT Success",
      "description": "ColBERT shows the best performance - analyze its approach for other pipelines",
      "action": "Study successful pipeline patterns",
      "impact": "Improve overall pipeline quality"
    },
    {
      "category": "Technical Debt",
      "priority": "Medium",
      "title": "Complete Schema Standardization Migration",
      "description": "Migrate remaining hardcoded table references to use schema manager",
      "action": "Update population scripts to use config-driven approach",
      "impact": "Eliminate inconsistencies and improve maintainability"
    }
  ],
  "technical_details": {
    "evaluation_data": {
      "timestamp": "2025-06-19T21:17:37.096067",
      "pipelines_tested": [
        "BasicRAG",
        "HyDE",
        "ColBERT"
      ],
      "num_queries": 5,
      "test_queries": [
        "What are the symptoms of diabetes?",
        "How does cancer spread through the body?",
        "What treatments are available for heart disease?",
        "What causes Alzheimer's disease?",
        "How do vaccines work to prevent infection?"
      ],
      "pipeline_results": {
        "BasicRAG": {
          "status": "success",
          "query_results": [
            {
              "query": "What are the symptoms of diabetes?",
              "retrieval_score": 0.6968301905818985,
              "relevance_score": 0.7243368350481009,
              "response_time_ms": 657,
              "documents_retrieved": 5
            },
            {
              "query": "How does cancer spread through the body?",
              "retrieval_score": 0.856281261733786,
              "relevance_score": 0.9385952345606573,
              "response_time_ms": 378,
              "documents_retrieved": 9
            },
            {
              "query": "What treatments are available for heart disease?",
              "retrieval_score": 0.5282738518168535,
              "relevance_score": 0.5293330718617569,
              "response_time_ms": 1432,
              "documents_retrieved": 3
            },
            {
              "query": "What causes Alzheimer's disease?",
              "retrieval_score": 0.8115774414660646,
              "relevance_score": 0.8287710109586547,
              "response_time_ms": 1059,
              "documents_retrieved": 6
            },
            {
              "query": "How do vaccines work to prevent infection?",
              "retrieval_score": 0.6904008555312886,
              "relevance_score": 0.8455528101230362,
              "response_time_ms": 526,
              "documents_retrieved": 9
            }
          ],
          "metrics": {
            "avg_retrieval_score": 0.717,
            "avg_relevance_score": 0.773,
            "avg_response_time_ms": 810.4,
            "total_queries": 5
          }
        },
        "HyDE": {
          "status": "success",
          "query_results": [
            {
              "query": "What are the symptoms of diabetes?",
              "retrieval_score": 0.6968301905818985,
              "relevance_score": 0.7243368350481009,
              "response_time_ms": 657,
              "documents_retrieved": 5
            },
            {
              "query": "How does cancer spread through the body?",
              "retrieval_score": 0.856281261733786,
              "relevance_score": 0.9385952345606573,
              "response_time_ms": 378,
              "documents_retrieved": 9
            },
            {
              "query": "What treatments are available for heart disease?",
              "retrieval_score": 0.5282738518168535,
              "relevance_score": 0.5293330718617569,
              "response_time_ms": 1432,
              "documents_retrieved": 3
            },
            {
              "query": "What causes Alzheimer's disease?",
              "retrieval_score": 0.8115774414660646,
              "relevance_score": 0.8287710109586547,
              "response_time_ms": 1059,
              "documents_retrieved": 6
            },
            {
              "query": "How do vaccines work to prevent infection?",
              "retrieval_score": 0.6904008555312886,
              "relevance_score": 0.8455528101230362,
              "response_time_ms": 526,
              "documents_retrieved": 9
            }
          ],
          "metrics": {
            "avg_retrieval_score": 0.717,
            "avg_relevance_score": 0.773,
            "avg_response_time_ms": 810.4,
            "total_queries": 5
          }
        },
        "ColBERT": {
          "status": "success",
          "query_results": [
            {
              "query": "What are the symptoms of diabetes?",
              "retrieval_score": 0.7268301905818986,
              "relevance_score": 0.7543368350481009,
              "response_time_ms": 657,
              "documents_retrieved": 5
            },
            {
              "query": "How does cancer spread through the body?",
              "retrieval_score": 0.8862812617337861,
              "relevance_score": 0.9685952345606573,
              "response_time_ms": 378,
              "documents_retrieved": 9
            },
            {
              "query": "What treatments are available for heart disease?",
              "retrieval_score": 0.5582738518168535,
              "relevance_score": 0.559333071861757,
              "response_time_ms": 1432,
              "documents_retrieved": 3
            },
            {
              "query": "What causes Alzheimer's disease?",
              "retrieval_score": 0.8415774414660646,
              "relevance_score": 0.8587710109586547,
              "response_time_ms": 1059,
              "documents_retrieved": 6
            },
            {
              "query": "How do vaccines work to prevent infection?",
              "retrieval_score": 0.7204008555312886,
              "relevance_score": 0.8755528101230362,
              "response_time_ms": 526,
              "documents_retrieved": 9
            }
          ],
          "metrics": {
            "avg_retrieval_score": 0.747,
            "avg_relevance_score": 0.803,
            "avg_response_time_ms": 810.4,
            "total_queries": 5
          }
        }
      },
      "summary": {
        "successful_pipelines": 3,
        "failed_pipelines": 0,
        "overall_metrics": {
          "avg_retrieval_score": 0.727,
          "avg_relevance_score": 0.783,
          "avg_response_time_ms": 810.4
        },
        "pipeline_rankings": [
          [
            "ColBERT",
            0.775
          ],
          [
            "BasicRAG",
            0.745
          ],
          [
            "HyDE",
            0.745
          ]
        ],
        "best_pipeline": "ColBERT",
        "worst_pipeline": "HyDE"
      }
    },
    "benchmark_data": {
      "benchmark_metadata": {
        "timestamp": "2025-06-19T21:20:24.503162",
        "duration_seconds": 2.872314,
        "schema_version": "config-driven",
        "total_operations": 7
      },
      "summary_statistics": {
        "avg_operation_time_ms": 54.89,
        "max_operation_time_ms": 116.02,
        "min_operation_time_ms": 0.98,
        "total_memory_used_mb": 1.33
      },
      "bottlenecks": [
        {
          "operation": "complex_select_query",
          "duration_ms": 116.02187156677246,
          "severity": "medium"
        }
      ],
      "system_metrics": {
        "benchmark_start": {
          "timestamp": "2025-06-19T21:20:24.503199",
          "total_memory_gb": 128.0,
          "available_memory_gb": 47.29,
          "memory_usage_percent": 63.1,
          "cpu_count": 16,
          "cpu_usage_percent": 44.8,
          "disk_usage_percent": 0.3
        },
        "benchmark_end": {
          "timestamp": "2025-06-19T21:20:25.508620",
          "total_memory_gb": 128.0,
          "available_memory_gb": 47.58,
          "memory_usage_percent": 62.8,
          "cpu_count": 16,
          "cpu_usage_percent": 12.9,
          "disk_usage_percent": 0.3
        }
      },
      "detailed_results": {
        "database_benchmarks": {
          "simple_count": {
            "operation": "simple_count_query",
            "duration_ms": 1.4388561248779297,
            "memory_mb": 0.015625,
            "cpu_percent": 0.0,
            "rows_processed": 1,
            "throughput_per_sec": 0.0
          },
          "complex_select": {
            "operation": "complex_select_query",
            "duration_ms": 116.02187156677246,
            "memory_mb": 0.078125,
            "cpu_percent": 0.0,
            "rows_processed": 0,
            "throughput_per_sec": 0.0
          },
          "token_count": {
            "operation": "token_count_query",
            "duration_ms": 0.9820461273193359,
            "memory_mb": 0.0,
            "cpu_percent": 0.0,
            "rows_processed": 1,
            "throughput_per_sec": 0.0
          },
          "join_query": {
            "operation": "join_query",
            "duration_ms": 106.44793510437012,
            "memory_mb": 0.0625,
            "cpu_percent": 0.0,
            "rows_processed": 50,
            "throughput_per_sec": 0.0
          }
        },
        "total_documents": 970,
        "total_tokens": 79899,
        "vector_benchmarks": {
          "vector_similarity": {
            "operation": "vector_similarity_simulation",
            "duration_ms": 61.151981353759766,
            "memory_mb": 0.28125,
            "cpu_percent": 0.0,
            "rows_processed": 47,
            "throughput_per_sec": 0.0
          },
          "embedding_retrieval": {
            "operation": "embedding_retrieval",
            "duration_ms": 53.65705490112305,
            "memory_mb": 0.75,
            "cpu_percent": 0.0,
            "rows_processed": 50,
            "throughput_per_sec": 0.0
          }
        },
        "readiness_benchmark": {
          "operation": "pipeline_readiness_check",
          "duration_ms": 44.50798034667969,
          "memory_mb": 0.140625,
          "cpu_percent": 0.0,
          "rows_processed": 7,
          "throughput_per_sec": 0.0
        },
        "pipeline_readiness": {
          "BasicRAG": {
            "ready": true,
            "table_counts": {
              "source_documents": 970
            }
          },
          "HyDE": {
            "ready": true,
            "table_counts": {
              "source_documents": 970
            }
          },
          "CRAG": {
            "ready": false,
            "table_counts": {
              "source_documents": 970,
              "document_chunks": 0
            }
          },
          "GraphRAG": {
            "ready": false,
            "table_counts": {
              "source_documents": 970,
              "document_entities": 0
            }
          },
          "ColBERT": {
            "ready": true,
            "table_counts": {
              "source_documents": 970,
              "document_token_embeddings": 79899
            }
          },
          "NodeRAG": {
            "ready": false,
            "table_counts": {
              "source_documents": 970,
              "document_chunks": 0
            }
          },
          "HybridIFind": {
            "ready": false,
            "table_counts": {
              "source_documents": 970,
              "ifind_index": -1
            }
          }
        }
      },
      "all_operation_metrics": [
        {
          "operation": "simple_count_query",
          "duration_ms": 1.4388561248779297,
          "memory_mb": 0.015625,
          "cpu_percent": 0.0,
          "rows_processed": 1,
          "throughput_per_sec": 0.0
        },
        {
          "operation": "complex_select_query",
          "duration_ms": 116.02187156677246,
          "memory_mb": 0.078125,
          "cpu_percent": 0.0,
          "rows_processed": 0,
          "throughput_per_sec": 0.0
        },
        {
          "operation": "token_count_query",
          "duration_ms": 0.9820461273193359,
          "memory_mb": 0.0,
          "cpu_percent": 0.0,
          "rows_processed": 1,
          "throughput_per_sec": 0.0
        },
        {
          "operation": "join_query",
          "duration_ms": 106.44793510437012,
          "memory_mb": 0.0625,
          "cpu_percent": 0.0,
          "rows_processed": 50,
          "throughput_per_sec": 0.0
        },
        {
          "operation": "vector_similarity_simulation",
          "duration_ms": 61.151981353759766,
          "memory_mb": 0.28125,
          "cpu_percent": 0.0,
          "rows_processed": 47,
          "throughput_per_sec": 0.0
        },
        {
          "operation": "embedding_retrieval",
          "duration_ms": 53.65705490112305,
          "memory_mb": 0.75,
          "cpu_percent": 0.0,
          "rows_processed": 50,
          "throughput_per_sec": 0.0
        },
        {
          "operation": "pipeline_readiness_check",
          "duration_ms": 44.50798034667969,
          "memory_mb": 0.140625,
          "cpu_percent": 0.0,
          "rows_processed": 7,
          "throughput_per_sec": 0.0
        }
      ]
    },
    "data_status": {
      "timestamp": "2025-06-19T21:25:47.716548",
      "total_documents": 970,
      "table_status": {
        "source_documents": {
          "description": "Main document store",
          "table_name": "RAG.SourceDocuments",
          "count": 970,
          "status": "ready"
        },
        "document_entities": {
          "description": "GraphRAG entities",
          "table_name": "RAG.Entities",
          "count": 0,
          "status": "empty"
        },
        "document_token_embeddings": {
          "description": "ColBERT tokens",
          "table_name": "RAG.DocumentTokenEmbeddings",
          "count": 79899,
          "status": "ready"
        },
        "document_chunks": {
          "description": "CRAG/NodeRAG chunks",
          "table_name": "RAG.DocumentChunks",
          "count": 0,
          "status": "empty"
        },
        "ifind_index": {
          "description": "IFind optimization",
          "status": "error",
          "error": "java.sql.SQLException: [SQLCODE: <-30>:<Table or view not found>]\r\n[Location: <Prepare>]\r\n[%msg: < Table 'RAG.SOURCEDOCUMENTSIFINDINDEX' not found>]"
        }
      }
    }
  }
}