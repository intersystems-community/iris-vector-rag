# =============================================================================
# RAG Templates Framework - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# SECURITY WARNING: Never commit .env files to version control
# =============================================================================

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Deployment environment (development, staging, production)
ENVIRONMENT=development
BUILD_TARGET=production
BUILD_ENV=production
PYTHON_VERSION=3.11

# =============================================================================
# IRIS DATABASE CONFIGURATION
# =============================================================================
# IRIS Docker image (community or enterprise)
IRIS_DOCKER_IMAGE=intersystemsdc/iris-community:latest
# For enterprise: containers.intersystems.com/intersystems/iris-arm64:2025.1

# IRIS Connection Settings
IRIS_HOST=iris_db
IRIS_SUPERSERVER_PORT=1972
IRIS_WEBSERVER_PORT=52773
IRIS_NAMESPACE=USER
IRIS_USERNAME=_SYSTEM
IRIS_PASSWORD=SYS

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=rag_redis_secure_password_change_me
REDIS_MAXMEMORY=512mb

# =============================================================================
# API SERVICE CONFIGURATION
# =============================================================================
RAG_API_PORT=8000
API_WORKERS=4
API_DEBUG=false
API_RELOAD=false
LOG_LEVEL=INFO

# =============================================================================
# STREAMLIT APP CONFIGURATION
# =============================================================================
STREAMLIT_PORT=8501
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# =============================================================================
# JUPYTER NOTEBOOK CONFIGURATION
# =============================================================================
JUPYTER_PORT=8888
JUPYTER_TOKEN=rag_jupyter_secure_token_change_me
JUPYTER_ENABLE_LAB=yes
JUPYTER_ALLOW_ROOT=yes

# =============================================================================
# NGINX REVERSE PROXY CONFIGURATION
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
NGINX_WORKERS=auto
NGINX_CONNECTIONS=1024

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
MONITORING_PORT=9090
MONITORING_INTERVAL=30
MONITORING_WEBHOOK=

# =============================================================================
# AI API KEYS - REQUIRED
# =============================================================================
# OpenAI API Key (required for most RAG pipelines)
OPENAI_API_KEY=your_openai_api_key_here

# Optional AI API Keys
ANTHROPIC_API_KEY=your_anthropic_api_key_here
COHERE_API_KEY=your_cohere_api_key_here
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# =============================================================================
# SUPABASE CONFIGURATION (for memory integration)
# =============================================================================
SUPABASE_URL=your_supabase_url_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
SUPABASE_ACCESS_TOKEN=your_supabase_access_token_here
SUPABASE_PROJECT_URL=your_supabase_project_url_here
SUPABASE_PROJECT_REF=your_supabase_project_ref_here

# =============================================================================
# VECTOR DATABASE CONFIGURATION (optional)
# =============================================================================
# Pinecone
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment_here
PINECONE_INDEX_NAME=rag-templates

# Weaviate
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your_weaviate_api_key_here

# =============================================================================
# DATA LOADING CONFIGURATION
# =============================================================================
DATA_SOURCE=pmc_samples
DATA_BATCH_SIZE=100
LOAD_SAMPLE_DATA=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secret for API authentication
JWT_SECRET=your_jwt_secret_key_change_me_to_a_long_random_string

# SSL Configuration (for production)
SSL_CERT_PATH=/etc/nginx/ssl/nginx-selfsigned.crt
SSL_KEY_PATH=/etc/nginx/ssl/nginx-selfsigned.key

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
DEBUG=false
DEVELOPMENT_MODE=false
HOT_RELOAD=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Memory limits
MAX_MEMORY_USAGE=2g
WORKER_MEMORY_LIMIT=512m

# Connection pools
DB_POOL_SIZE=10
REDIS_POOL_SIZE=10

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=json
LOG_FILE_MAX_SIZE=100MB
LOG_RETENTION_DAYS=30

# =============================================================================
# BACKUP AND PERSISTENCE
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION=7

# =============================================================================
# INSTRUCTIONS FOR SETUP
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Replace all "your_*_here" placeholders with actual values
# 3. Generate secure passwords for REDIS_PASSWORD, JUPYTER_TOKEN, JWT_SECRET
# 4. Set up your AI API keys (at minimum OPENAI_API_KEY is required)
# 5. Configure Supabase if using memory integration features
# 6. Adjust resource limits based on your system capabilities
# 7. Save the file (it's already git-ignored)
#
# SECURITY REMINDERS:
# - Never commit this file to version control
# - Use strong, unique passwords for all services
# - Rotate credentials regularly
# - Use environment-specific configurations for different deployments
# - Consider using Docker secrets for production deployments
# =============================================================================