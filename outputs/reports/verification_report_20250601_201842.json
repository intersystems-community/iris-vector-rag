{
  "verification_summary": {
    "start_time": "2025-06-01T20:18:28.049002",
    "end_time": "2025-06-01T20:18:42.928338",
    "duration_seconds": 14.879336,
    "migration_successful": false,
    "all_tests_passed": false,
    "vector_double_references_found": 2,
    "files_checked": 424,
    "critical_issues_count": 4,
    "warnings_count": 0
  },
  "detailed_results": {
    "migration_verification": {
      "vector_double_references": [
        {
          "file_path": "/Users/tdyar/ws/rag-templates/common/vector_sql_utils.py",
          "line_number": 157,
          "content": "select_clause += f\", VECTOR_COSINE({vector_column}, TO_VECTOR('{vector_string}', 'DOUBLE', {embedding_dim})) AS score\"",
          "timestamp": "2025-06-01T20:18:28.152113"
        },
        {
          "file_path": "/Users/tdyar/ws/rag-templates/scripts/convert_varchar_to_vector_columns.py",
          "line_number": 212,
          "content": "SET {new_column_name} = TO_VECTOR(?, 'DOUBLE', {dimension})",
          "timestamp": "2025-06-01T20:18:28.211277"
        }
      ],
      "files_checked": 424,
      "remaining_references_found": true
    },
    "database_tests": {
      "connection_test": {
        "passed": true,
        "error": null,
        "timestamp": "2025-06-01T20:18:37.451465"
      },
      "vector_float_table_creation": {
        "passed": false,
        "error": "java.sql.SQLException: [SQLCODE: <-1>:<Invalid SQL statement>]\r\n[Location: <Prepare>]\r\n[%msg: < ) expected, : found ^INSERT INTO RAG . VectorFloatTest ( id , test_vector , description ) VALUES ( :%qpar(1) , TO_VECTOR ( :%qpar(2) , :%qpar>]",
        "timestamp": "2025-06-01T20:18:37.651732"
      },
      "vector_operations": {
        "passed": false,
        "error": "java.sql.SQLException: [SQLCODE: <-1>:<Invalid SQL statement>]\r\n[Location: <Prepare>]\r\n[%msg: < ) expected, : found ^INSERT INTO RAG . VectorOpsTest ( id , vector1 , vector2 ) VALUES ( :%qpar(1) , TO_VECTOR ( :%qpar(2) , :%qpar>]",
        "timestamp": "2025-06-01T20:18:37.847851"
      },
      "hnsw_indexing": {
        "passed": true,
        "error": null,
        "timestamp": "2025-06-01T20:18:37.850940"
      }
    },
    "rag_pipeline_tests": {
      "basic_rag_test": {
        "passed": true,
        "error": null,
        "timestamp": "2025-06-01T20:18:41.966639"
      },
      "vector_similarity_search": {
        "passed": true,
        "error": null,
        "timestamp": "2025-06-01T20:18:42.926101"
      },
      "end_to_end_query": {
        "passed": false,
        "error": "'BasicRAGPipeline' object has no attribute 'query'",
        "timestamp": "2025-06-01T20:18:42.928217"
      }
    },
    "overall_status": {
      "migration_successful": false,
      "all_tests_passed": false,
      "critical_issues": [
        {
          "issue": "VECTOR(FLOAT) references still found in codebase",
          "timestamp": "2025-06-01T20:18:36.933488"
        },
        {
          "issue": "VECTOR(FLOAT) table creation failed: java.sql.SQLException: [SQLCODE: <-1>:<Invalid SQL statement>]\r\n[Location: <Prepare>]\r\n[%msg: < ) expected, : found ^INSERT INTO RAG . VectorFloatTest ( id , test_vector , description ) VALUES ( :%qpar(1) , TO_VECTOR ( :%qpar(2) , :%qpar>]",
          "timestamp": "2025-06-01T20:18:37.651740"
        },
        {
          "issue": "Vector operations failed: java.sql.SQLException: [SQLCODE: <-1>:<Invalid SQL statement>]\r\n[Location: <Prepare>]\r\n[%msg: < ) expected, : found ^INSERT INTO RAG . VectorOpsTest ( id , vector1 , vector2 ) VALUES ( :%qpar(1) , TO_VECTOR ( :%qpar(2) , :%qpar>]",
          "timestamp": "2025-06-01T20:18:37.847859"
        },
        {
          "issue": "End-to-end RAG query failed: 'BasicRAGPipeline' object has no attribute 'query'",
          "timestamp": "2025-06-01T20:18:42.928222"
        }
      ],
      "warnings": []
    }
  }
}