{"created": 1747847497.6702049, "duration": 3.454577922821045, "exitcode": 1, "root": "/Users/tdyar/ws/rag-templates", "environment": {}, "summary": {"passed": 6, "failed": 1, "total": 7, "collected": 7}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_rag_persistent.py", "type": "Module"}]}, {"nodeid": "tests/test_e2e_rag_persistent.py", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_rag_persistent.py::test_basic_rag_with_real_data", "type": "Function", "lineno": 252}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_hyde_with_real_data", "type": "Function", "lineno": 279}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_crag_with_real_data", "type": "Function", "lineno": 306}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_colbert_with_real_data", "type": "Function", "lineno": 334}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_noderag_with_real_data", "type": "Function", "lineno": 362}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_graphrag_with_real_data", "type": "Function", "lineno": 391}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_all_pipelines_with_same_query", "type": "Function", "lineno": 418}]}], "tests": [{"nodeid": "tests/test_e2e_rag_persistent.py::test_basic_rag_with_real_data", "lineno": 252, "outcome": "passed", "keywords": ["test_basic_rag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 2.805436833004933, "outcome": "passed", "stdout": "Using pure HuggingFace embedder for model: intfloat/e5-base-v2\nInitializing HF embedder for model: intfloat/e5-base-v2\nInitializing LLM: openai - gpt-3.5-turbo\nInitializing LLM: stub - gpt-3.5-turbo\n", "stderr": "INFO:common.iris_connector:IRIS_CONNECTION_URL not set, using individual parameters/defaults.\nINFO:common.iris_connector:Connecting to IRIS at localhost:1972/USER\nINFO:common.iris_connector:Successfully connected to IRIS (DBAPI connection test successful).\nINFO:tests.test_e2e_rag_persistent:Using real IRIS connection with 1100 documents\nINFO:tests.test_e2e_rag_persistent:Using real embedding function\nWARNING:tests.test_e2e_rag_persistent:Real LLM not available, falling back to stub LLM\n", "log": [{"name": "common.iris_connector", "msg": "IRIS_CONNECTION_URL not set, using individual parameters/defaults.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/common/iris_connector.py", "filename": "iris_connector.py", "module": "iris_connector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "get_real_iris_connection", "created": 1747847494.2323241, "msecs": 232.0, "relativeCreated": 223.88410568237305, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:34"}, {"name": "common.iris_connector", "msg": "Connecting to IRIS at localhost:1972/USER", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/common/iris_connector.py", "filename": "iris_connector.py", "module": "iris_connector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 64, "funcName": "get_real_iris_connection", "created": 1747847494.232471, "msecs": 232.0, "relativeCreated": 224.0309715270996, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:34"}, {"name": "common.iris_connector", "msg": "Successfully connected to IRIS (DBAPI connection test successful).", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/common/iris_connector.py", "filename": "iris_connector.py", "module": "iris_connector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 74, "funcName": "get_real_iris_connection", "created": 1747847494.250255, "msecs": 250.0, "relativeCreated": 241.81509017944336, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:34"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Using real IRIS connection with 1100 documents", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 97, "funcName": "real_iris_connection", "created": 1747847494.251231, "msecs": 251.0, "relativeCreated": 242.79093742370605, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:34"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Using real embedding function", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 107, "funcName": "real_embedding_func", "created": 1747847497.036962, "msecs": 36.0, "relativeCreated": 3028.52201461792, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Real LLM not available, falling back to stub LLM", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 123, "funcName": "real_llm_func", "created": 1747847497.037359, "msecs": 37.0, "relativeCreated": 3028.918981552124, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "call": {"duration": 0.5471711249556392, "outcome": "passed", "stdout": "BasicRAGPipeline Initialized\nBasicRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nBasicRAG: Retrieving documents for query: 'What are the symptoms of diabetes?...'\nFunction retrieve_documents executed in 0.5467 seconds\nBasicRAG: Generating answer for query: 'What are the symptoms of diabetes?...'\nBasicRAG: Generated answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0000 seconds\nFunction run executed in 0.5468 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_basic_rag_with_real_data\nWARNING:basic_rag.pipeline:BasicRAG: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.\nINFO:basic_rag.pipeline:BasicRAG: Returned 3 mock documents.\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:test_basic_rag_with_real_data passed\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_basic_rag_with_real_data", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 257, "funcName": "test_basic_rag_with_real_data", "created": 1747847497.037725, "msecs": 37.0, "relativeCreated": 3029.284954071045, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "basic_rag.pipeline", "msg": "BasicRAG: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/basic_rag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "retrieve_documents", "created": 1747847497.584335, "msecs": 584.0, "relativeCreated": 3575.895071029663, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "basic_rag.pipeline", "msg": "BasicRAG: Returned 3 mock documents.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/basic_rag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 67, "funcName": "retrieve_documents", "created": 1747847497.5845, "msecs": 584.0, "relativeCreated": 3576.0600566864014, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.5846379, "msecs": 584.0, "relativeCreated": 3576.197862625122, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "test_basic_rag_with_real_data passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 278, "funcName": "test_basic_rag_with_real_data", "created": 1747847497.5846841, "msecs": 584.0, "relativeCreated": 3576.244115829468, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "teardown": {"duration": 8.087500464171171e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_hyde_with_real_data", "lineno": 279, "outcome": "passed", "keywords": ["test_hyde_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 9.020802099257708e-05, "outcome": "passed"}, "call": {"duration": 0.0005048330058343709, "outcome": "passed", "stdout": "HyDEPipeline Initialized\nHyDE: Running pipeline for query: 'How does COVID-19 affect the respiratory system?...'\nHyDE: Generated hypothetical document: 'Stub LLM response for prompt: 'Write a short, concise passage that directly answe...'...'\nFunction _generate_hypothetical_document executed in 0.0000 seconds\nFunction retrieve_documents executed in 0.0002 seconds\nHyDE: Generating final answer for query: 'How does COVID-19 affect the respiratory system?...'\nHyDE: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0000 seconds\nFunction run executed in 0.0002 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_hyde_with_real_data\nWARNING:hyde.pipeline:HyDE: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.\nINFO:hyde.pipeline:HyDE: Generated hypothetical document (though not used for DB retrieval in mock): 'Stub LLM response for prompt: 'Write a short, concise passage that directly answe...'...'\nINFO:hyde.pipeline:HyDE: Returned 3 mock documents.\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: How does COVID-19 affect the respiratory system?...\nINFO:tests.test_e2e_rag_persistent:test_hyde_with_real_data passed\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_hyde_with_real_data", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 284, "funcName": "test_hyde_with_real_data", "created": 1747847497.585496, "msecs": 585.0, "relativeCreated": 3577.0559310913086, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "hyde.pipeline", "msg": "HyDE: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/hyde/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "retrieve_documents", "created": 1747847497.585611, "msecs": 585.0, "relativeCreated": 3577.1710872650146, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "hyde.pipeline", "msg": "HyDE: Generated hypothetical document (though not used for DB retrieval in mock): 'Stub LLM response for prompt: 'Write a short, concise passage that directly answe...'...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/hyde/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 60, "funcName": "retrieve_documents", "created": 1747847497.585685, "msecs": 585.0, "relativeCreated": 3577.244997024536, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "hyde.pipeline", "msg": "HyDE: Returned 3 mock documents.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/hyde/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "retrieve_documents", "created": 1747847497.5857332, "msecs": 585.0, "relativeCreated": 3577.2931575775146, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: How does COVID-19 affect the respiratory system?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.5858319, "msecs": 585.0, "relativeCreated": 3577.3918628692627, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "test_hyde_with_real_data passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 305, "funcName": "test_hyde_with_real_data", "created": 1747847497.58587, "msecs": 585.0, "relativeCreated": 3577.430009841919, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "teardown": {"duration": 5.658302688971162e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_crag_with_real_data", "lineno": 306, "outcome": "passed", "keywords": ["test_crag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 0.00015887501649558544, "outcome": "passed", "stderr": "INFO:tests.test_e2e_rag_persistent:Using mock web search function\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Using mock web search function", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 182, "funcName": "web_search_func", "created": 1747847497.586259, "msecs": 586.0, "relativeCreated": 3577.8188705444336, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "call": {"duration": 0.06184733402915299, "outcome": "passed", "stdout": "RetrievalEvaluator Initialized (placeholder)\nCRAGPipeline Initialized\nCRAG: Running pipeline for query: 'What treatments are available for Alzheimer's dise...'\nCRAG: Running retrieve and correct step for query: 'What treatments are available for Alzheimer's dise...'\nCRAG: Performing initial retrieval for query: 'What treatments are available for Alzheimer's dise...'\nCRAG: Error during initial retrieval: [SQLCODE: <-1>:<Invalid SQL statement>]\r\n[Location: <Prepare>]\r\n[%msg: < ) expected, : found ^SELECT TOP :%qpar(1) doc_id , text_content , VECTOR_COSINE ( embedding , TO_VECTOR ( :%qpar(2) , :%qpar>]\nFunction _initial_retrieve executed in 0.0612 seconds\nRetrievalEvaluator: Evaluating documents for query: 'What treatments are available for Alzheimer's dise...'\nRetrievalEvaluator: No documents provided. Status: disoriented.\nCRAG: Retrieval status is 'disoriented'. Attempting web augmentation.\nCRAG: Attempting web augmentation for query: 'What treatments are available for Alzheimer's dise...'\nCRAG: Web search returned 3 results.\nCRAG: Combined initial documents with web results. Total: 3.\nFunction _augment_with_web_search executed in 0.0002 seconds\nCRAG: Decomposing, filtering, and recomposing context for query: 'What treatments are available for Alzheimer's dise...'\nFunction _decompose_recompose_filter executed in 0.0000 seconds\nCRAG: Retrieve and correct step finished. Refined context has 3 chunks.\nFunction retrieve_and_correct executed in 0.0614 seconds\nCRAG: Generating final answer for query: 'What treatments are available for Alzheimer's dise...'\nCRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0000 seconds\nFunction run executed in 0.0615 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_crag_with_real_data\nINFO:tests.test_e2e_rag_persistent:Mock web search returned 3 results for query: What treatments are available for Alzheimer's dise...\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What treatments are available for Alzheimer's dise...\nINFO:tests.test_e2e_rag_persistent:test_crag_with_real_data passed\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_crag_with_real_data", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 311, "funcName": "test_crag_with_real_data", "created": 1747847497.5864232, "msecs": 586.0, "relativeCreated": 3577.9831409454346, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Mock web search returned 3 results for query: What treatments are available for Alzheimer's dise...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 179, "funcName": "mock_web_search", "created": 1747847497.647747, "msecs": 647.0, "relativeCreated": 3639.3070220947266, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What treatments are available for Alzheimer's dise...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.6479821, "msecs": 647.0, "relativeCreated": 3639.5421028137207, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "test_crag_with_real_data passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 333, "funcName": "test_crag_with_real_data", "created": 1747847497.6480389, "msecs": 648.0, "relativeCreated": 3639.598846435547, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "teardown": {"duration": 8.887500734999776e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_colbert_with_real_data", "lineno": 334, "outcome": "passed", "keywords": ["test_colbert_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 0.0003370409831404686, "outcome": "passed", "stdout": "Using pure HuggingFace embedder for model: intfloat/e5-base-v2\nUsing cached HF embedder for model: intfloat/e5-base-v2\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Using simple ColBERT query encoder\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Using simple ColBERT query encoder", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 158, "funcName": "colbert_query_encoder", "created": 1747847497.6488352, "msecs": 648.0, "relativeCreated": 3640.395164489746, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "call": {"duration": 0.000635625037830323, "outcome": "passed", "stdout": "Function retrieve_documents executed in 0.0001 seconds\nColbertRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0001 seconds\nFunction run executed in 0.0003 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_colbert_with_real_data\nINFO:colbert.pipeline:ColbertRAGPipeline Initialized\nINFO:colbert.pipeline:ColbertRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nWARNING:colbert.pipeline:ColbertRAG: retrieve_documents - Bypassing database vector search and client-side MaxSim. Returning mock documents.\nINFO:colbert.pipeline:ColbertRAG: Returned 3 mock documents.\nINFO:colbert.pipeline:ColbertRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:test_colbert_with_real_data passed\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_colbert_with_real_data", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 339, "funcName": "test_colbert_with_real_data", "created": 1747847497.649067, "msecs": 649.0, "relativeCreated": 3640.626907348633, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAGPipeline Initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 35, "funcName": "__init__", "created": 1747847497.649162, "msecs": 649.0, "relativeCreated": 3640.7220363616943, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 120, "funcName": "run", "created": 1747847497.6492531, "msecs": 649.0, "relativeCreated": 3640.813112258911, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: retrieve_documents - Bypassing database vector search and client-side MaxSim. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 73, "funcName": "retrieve_documents", "created": 1747847497.649315, "msecs": 649.0, "relativeCreated": 3640.8751010894775, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: Returned 3 mock documents.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 85, "funcName": "retrieve_documents", "created": 1747847497.6493702, "msecs": 649.0, "relativeCreated": 3640.93017578125, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 94, "funcName": "generate_answer", "created": 1747847497.649438, "msecs": 649.0, "relativeCreated": 3640.997886657715, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.649528, "msecs": 649.0, "relativeCreated": 3641.0880088806152, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "test_colbert_with_real_data passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 361, "funcName": "test_colbert_with_real_data", "created": 1747847497.6495712, "msecs": 649.0, "relativeCreated": 3641.1311626434326, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "teardown": {"duration": 5.9542013332247734e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_noderag_with_real_data", "lineno": 362, "outcome": "passed", "keywords": ["test_noderag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 6.595801096409559e-05, "outcome": "passed"}, "call": {"duration": 0.0004823750350624323, "outcome": "passed", "stdout": "Function retrieve_documents_from_graph executed in 0.0001 seconds\nNodeRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0001 seconds\nFunction run executed in 0.0002 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_noderag_with_real_data\nINFO:noderag.pipeline:NodeRAGPipeline Initialized\nINFO:noderag.pipeline:NodeRAG: Running pipeline for query: 'How does COVID-19 affect the respiratory system?...'\nWARNING:noderag.pipeline:NodeRAG: retrieve_documents_from_graph - Bypassing database vector search and graph traversal. Returning mock documents.\nINFO:noderag.pipeline:NodeRAG: Returned 3 mock documents (nodes).\nINFO:noderag.pipeline:NodeRAG: Generating final answer for query: 'How does COVID-19 affect the respiratory system?...'\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: How does COVID-19 affect the respiratory system?...\nINFO:tests.test_e2e_rag_persistent:test_noderag_with_real_data passed\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_noderag_with_real_data", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 367, "funcName": "test_noderag_with_real_data", "created": 1747847497.650051, "msecs": 650.0, "relativeCreated": 3641.611099243164, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAGPipeline Initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 35, "funcName": "__init__", "created": 1747847497.650128, "msecs": 650.0, "relativeCreated": 3641.6878700256348, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: Running pipeline for query: 'How does COVID-19 affect the respiratory system?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 243, "funcName": "run", "created": 1747847497.650167, "msecs": 650.0, "relativeCreated": 3641.7269706726074, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: retrieve_documents_from_graph - Bypassing database vector search and graph traversal. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 194, "funcName": "retrieve_documents_from_graph", "created": 1747847497.650211, "msecs": 650.0, "relativeCreated": 3641.771078109741, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: Returned 3 mock documents (nodes).", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 208, "funcName": "retrieve_documents_from_graph", "created": 1747847497.650249, "msecs": 650.0, "relativeCreated": 3641.8089866638184, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: Generating final answer for query: 'How does COVID-19 affect the respiratory system?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 217, "funcName": "generate_answer", "created": 1747847497.650303, "msecs": 650.0, "relativeCreated": 3641.8628692626953, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: How does COVID-19 affect the respiratory system?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.650383, "msecs": 650.0, "relativeCreated": 3641.9429779052734, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "test_noderag_with_real_data passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 390, "funcName": "test_noderag_with_real_data", "created": 1747847497.6504161, "msecs": 650.0, "relativeCreated": 3641.9761180877686, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "teardown": {"duration": 6.19160127826035e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_graphrag_with_real_data", "lineno": 391, "outcome": "passed", "keywords": ["test_graphrag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 6.470899097621441e-05, "outcome": "passed"}, "call": {"duration": 0.0004509579739533365, "outcome": "passed", "stdout": "Function retrieve_documents_via_kg executed in 0.0001 seconds\nGraphRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0001 seconds\nFunction run executed in 0.0002 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_graphrag_with_real_data\nINFO:graphrag.pipeline:GraphRAGPipeline Initialized\nINFO:graphrag.pipeline:GraphRAG: Running pipeline for query: 'What treatments are available for Alzheimer's dise...'\nWARNING:graphrag.pipeline:GraphRAG: retrieve_documents_via_kg - Bypassing database vector search and graph traversal. Returning mock documents.\nINFO:graphrag.pipeline:GraphRAG: Returned 3 mock documents (nodes).\nINFO:graphrag.pipeline:GraphRAG: Generating final answer for query: 'What treatments are available for Alzheimer's dise...'\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What treatments are available for Alzheimer's dise...\nINFO:tests.test_e2e_rag_persistent:test_graphrag_with_real_data passed\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_graphrag_with_real_data", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 396, "funcName": "test_graphrag_with_real_data", "created": 1747847497.65085, "msecs": 650.0, "relativeCreated": 3642.4100399017334, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAGPipeline Initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 33, "funcName": "__init__", "created": 1747847497.6509042, "msecs": 650.0, "relativeCreated": 3642.4641609191895, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: Running pipeline for query: 'What treatments are available for Alzheimer's dise...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 243, "funcName": "run", "created": 1747847497.6509461, "msecs": 650.0, "relativeCreated": 3642.5061225891113, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: retrieve_documents_via_kg - Bypassing database vector search and graph traversal. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 194, "funcName": "retrieve_documents_via_kg", "created": 1747847497.6509829, "msecs": 650.0, "relativeCreated": 3642.542839050293, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: Returned 3 mock documents (nodes).", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 208, "funcName": "retrieve_documents_via_kg", "created": 1747847497.651029, "msecs": 651.0, "relativeCreated": 3642.5890922546387, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: Generating final answer for query: 'What treatments are available for Alzheimer's dise...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 217, "funcName": "generate_answer", "created": 1747847497.65108, "msecs": 651.0, "relativeCreated": 3642.6398754119873, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What treatments are available for Alzheimer's dise...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.6511629, "msecs": 651.0, "relativeCreated": 3642.7228450775146, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "test_graphrag_with_real_data passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 417, "funcName": "test_graphrag_with_real_data", "created": 1747847497.651202, "msecs": 651.0, "relativeCreated": 3642.7619457244873, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}]}, "teardown": {"duration": 4.6874978579580784e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_all_pipelines_with_same_query", "lineno": 418, "outcome": "failed", "keywords": ["test_all_pipelines_with_same_query", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 6.512500112876296e-05, "outcome": "passed"}, "call": {"duration": 0.014589124999474734, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "lineno": 517, "message": "AssertionError: CRAG pipeline failed with error: Expected at least 1 items to contain keywords ['diabetes', 'symptom', 'glucose', 'insulin'], got 0\n  assert 0 >= 1\nassert 'error' not in {'error': \"Expected at least 1 items to contain keywords ['diabetes', 'symptom', 'glucose', 'insulin'], got 0\\nassert 0 >= 1\"}"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 517, "message": "AssertionError"}], "stdout": "BasicRAGPipeline Initialized\nHyDEPipeline Initialized\nRetrievalEvaluator Initialized (placeholder)\nCRAGPipeline Initialized\nBasicRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nBasicRAG: Retrieving documents for query: 'What are the symptoms of diabetes?...'\nFunction retrieve_documents executed in 0.0003 seconds\nBasicRAG: Generating answer for query: 'What are the symptoms of diabetes?...'\nBasicRAG: Generated answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0000 seconds\nFunction run executed in 0.0004 seconds\nHyDE: Running pipeline for query: 'What are the symptoms of diabetes?...'\nHyDE: Generated hypothetical document: 'Stub LLM response for prompt: 'Write a short, concise passage that directly answe...'...'\nFunction _generate_hypothetical_document executed in 0.0000 seconds\nFunction retrieve_documents executed in 0.0001 seconds\nHyDE: Generating final answer for query: 'What are the symptoms of diabetes?...'\nHyDE: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0000 seconds\nFunction run executed in 0.0002 seconds\nCRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nCRAG: Running retrieve and correct step for query: 'What are the symptoms of diabetes?...'\nCRAG: Performing initial retrieval for query: 'What are the symptoms of diabetes?...'\nCRAG: Error during initial retrieval: [SQLCODE: <-1>:<Invalid SQL statement>]\r\n[Location: <Prepare>]\r\n[%msg: < ) expected, : found ^SELECT TOP :%qpar(1) doc_id , text_content , VECTOR_COSINE ( embedding , TO_VECTOR ( :%qpar(2) , :%qpar>]\nFunction _initial_retrieve executed in 0.0118 seconds\nRetrievalEvaluator: Evaluating documents for query: 'What are the symptoms of diabetes?...'\nRetrievalEvaluator: No documents provided. Status: disoriented.\nCRAG: Retrieval status is 'disoriented'. Attempting web augmentation.\nCRAG: Attempting web augmentation for query: 'What are the symptoms of diabetes?...'\nCRAG: Web search returned 3 results.\nCRAG: Combined initial documents with web results. Total: 3.\nFunction _augment_with_web_search executed in 0.0001 seconds\nCRAG: Decomposing, filtering, and recomposing context for query: 'What are the symptoms of diabetes?...'\nFunction _decompose_recompose_filter executed in 0.0000 seconds\nCRAG: Retrieve and correct step finished. Refined context has 3 chunks.\nFunction retrieve_and_correct executed in 0.0120 seconds\nCRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'\nCRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0000 seconds\nFunction run executed in 0.0121 seconds\nFunction retrieve_documents executed in 0.0001 seconds\nColbertRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0001 seconds\nFunction run executed in 0.0002 seconds\nFunction retrieve_documents_from_graph executed in 0.0001 seconds\nNodeRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0001 seconds\nFunction run executed in 0.0003 seconds\nFunction retrieve_documents_via_kg executed in 0.0001 seconds\nGraphRAG: Generated final answer: 'Stub LLM response for prompt: 'You are a helpful AI assistant. Answer the questio...'...'\nFunction generate_answer executed in 0.0001 seconds\nFunction run executed in 0.0002 seconds\n", "stderr": "INFO:tests.test_e2e_rag_persistent:Running test_all_pipelines_with_same_query\nINFO:colbert.pipeline:ColbertRAGPipeline Initialized\nINFO:noderag.pipeline:NodeRAGPipeline Initialized\nINFO:graphrag.pipeline:GraphRAGPipeline Initialized\nINFO:tests.test_e2e_rag_persistent:Running BasicRAG pipeline with query: What are the symptoms of diabetes?\nWARNING:basic_rag.pipeline:BasicRAG: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.\nINFO:basic_rag.pipeline:BasicRAG: Returned 3 mock documents.\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:BasicRAG pipeline completed in 0.00 seconds\nINFO:tests.test_e2e_rag_persistent:Running HyDE pipeline with query: What are the symptoms of diabetes?\nWARNING:hyde.pipeline:HyDE: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.\nINFO:hyde.pipeline:HyDE: Generated hypothetical document (though not used for DB retrieval in mock): 'Stub LLM response for prompt: 'Write a short, concise passage that directly answe...'...'\nINFO:hyde.pipeline:HyDE: Returned 3 mock documents.\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:HyDE pipeline completed in 0.00 seconds\nINFO:tests.test_e2e_rag_persistent:Running CRAG pipeline with query: What are the symptoms of diabetes?\nINFO:tests.test_e2e_rag_persistent:Mock web search returned 3 results for query: What are the symptoms of diabetes?...\nERROR:tests.test_e2e_rag_persistent:Error running CRAG pipeline: Expected at least 1 items to contain keywords ['diabetes', 'symptom', 'glucose', 'insulin'], got 0\nassert 0 >= 1\nINFO:tests.test_e2e_rag_persistent:Running ColBERT pipeline with query: What are the symptoms of diabetes?\nINFO:colbert.pipeline:ColbertRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nWARNING:colbert.pipeline:ColbertRAG: retrieve_documents - Bypassing database vector search and client-side MaxSim. Returning mock documents.\nINFO:colbert.pipeline:ColbertRAG: Returned 3 mock documents.\nINFO:colbert.pipeline:ColbertRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:ColBERT pipeline completed in 0.00 seconds\nINFO:tests.test_e2e_rag_persistent:Running NodeRAG pipeline with query: What are the symptoms of diabetes?\nINFO:noderag.pipeline:NodeRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nWARNING:noderag.pipeline:NodeRAG: retrieve_documents_from_graph - Bypassing database vector search and graph traversal. Returning mock documents.\nINFO:noderag.pipeline:NodeRAG: Returned 3 mock documents (nodes).\nINFO:noderag.pipeline:NodeRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:NodeRAG pipeline completed in 0.00 seconds\nINFO:tests.test_e2e_rag_persistent:Running GraphRAG pipeline with query: What are the symptoms of diabetes?\nINFO:graphrag.pipeline:GraphRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'\nWARNING:graphrag.pipeline:GraphRAG: retrieve_documents_via_kg - Bypassing database vector search and graph traversal. Returning mock documents.\nINFO:graphrag.pipeline:GraphRAG: Returned 3 mock documents (nodes).\nINFO:graphrag.pipeline:GraphRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'\nINFO:tests.test_e2e_rag_persistent:RAG result verification passed for query: What are the symptoms of diabetes?...\nINFO:tests.test_e2e_rag_persistent:GraphRAG pipeline completed in 0.00 seconds\n", "log": [{"name": "tests.test_e2e_rag_persistent", "msg": "Running test_all_pipelines_with_same_query", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 430, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.651584, "msecs": 651.0, "relativeCreated": 3643.143892288208, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAGPipeline Initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 35, "funcName": "__init__", "created": 1747847497.6516979, "msecs": 651.0, "relativeCreated": 3643.2578563690186, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAGPipeline Initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 35, "funcName": "__init__", "created": 1747847497.651737, "msecs": 651.0, "relativeCreated": 3643.296957015991, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAGPipeline Initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 33, "funcName": "__init__", "created": 1747847497.651775, "msecs": 651.0, "relativeCreated": 3643.3348655700684, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Running BasicRAG pipeline with query: What are the symptoms of diabetes?", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 478, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.6518111, "msecs": 651.0, "relativeCreated": 3643.371105194092, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "basic_rag.pipeline", "msg": "BasicRAG: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/basic_rag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "retrieve_documents", "created": 1747847497.65208, "msecs": 652.0, "relativeCreated": 3643.6400413513184, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "basic_rag.pipeline", "msg": "BasicRAG: Returned 3 mock documents.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/basic_rag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 67, "funcName": "retrieve_documents", "created": 1747847497.652119, "msecs": 652.0, "relativeCreated": 3643.678903579712, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.6522171, "msecs": 652.0, "relativeCreated": 3643.7771320343018, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "BasicRAG pipeline completed in 0.00 seconds", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 504, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.6522582, "msecs": 652.0, "relativeCreated": 3643.818140029907, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Running HyDE pipeline with query: What are the symptoms of diabetes?", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 478, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.652297, "msecs": 652.0, "relativeCreated": 3643.857002258301, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "hyde.pipeline", "msg": "HyDE: retrieve_documents - Bypassing database vector search due to persistent driver/SQL issues with TO_VECTOR. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/hyde/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "retrieve_documents", "created": 1747847497.6523461, "msecs": 652.0, "relativeCreated": 3643.9061164855957, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "hyde.pipeline", "msg": "HyDE: Generated hypothetical document (though not used for DB retrieval in mock): 'Stub LLM response for prompt: 'Write a short, concise passage that directly answe...'...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/hyde/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 60, "funcName": "retrieve_documents", "created": 1747847497.65241, "msecs": 652.0, "relativeCreated": 3643.970012664795, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "hyde.pipeline", "msg": "HyDE: Returned 3 mock documents.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/hyde/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "retrieve_documents", "created": 1747847497.652447, "msecs": 652.0, "relativeCreated": 3644.0069675445557, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.6525319, "msecs": 652.0, "relativeCreated": 3644.091844558716, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "HyDE pipeline completed in 0.00 seconds", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 504, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.652568, "msecs": 652.0, "relativeCreated": 3644.1280841827393, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Running CRAG pipeline with query: What are the symptoms of diabetes?", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 478, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.6526039, "msecs": 652.0, "relativeCreated": 3644.1638469696045, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Mock web search returned 3 results for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 179, "funcName": "mock_web_search", "created": 1747847497.66453, "msecs": 664.0, "relativeCreated": 3656.090021133423, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Error running CRAG pipeline: Expected at least 1 items to contain keywords ['diabetes', 'symptom', 'glucose', 'insulin'], got 0\nassert 0 >= 1", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 506, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.6647701, "msecs": 664.0, "relativeCreated": 3656.330108642578, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Running ColBERT pipeline with query: What are the symptoms of diabetes?", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 478, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.6648269, "msecs": 664.0, "relativeCreated": 3656.3868522644043, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 120, "funcName": "run", "created": 1747847497.664869, "msecs": 664.0, "relativeCreated": 3656.4290523529053, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: retrieve_documents - Bypassing database vector search and client-side MaxSim. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 73, "funcName": "retrieve_documents", "created": 1747847497.664916, "msecs": 664.0, "relativeCreated": 3656.4760208129883, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: Returned 3 mock documents.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 85, "funcName": "retrieve_documents", "created": 1747847497.66497, "msecs": 664.0, "relativeCreated": 3656.5299034118652, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "colbert.pipeline", "msg": "ColbertRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/colbert/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 94, "funcName": "generate_answer", "created": 1747847497.6650398, "msecs": 665.0, "relativeCreated": 3656.599760055542, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.6651251, "msecs": 665.0, "relativeCreated": 3656.6851139068604, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "ColBERT pipeline completed in 0.00 seconds", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 504, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.665169, "msecs": 665.0, "relativeCreated": 3656.728982925415, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Running NodeRAG pipeline with query: What are the symptoms of diabetes?", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 478, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.665206, "msecs": 665.0, "relativeCreated": 3656.765937805176, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 243, "funcName": "run", "created": 1747847497.6652448, "msecs": 665.0, "relativeCreated": 3656.8048000335693, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: retrieve_documents_from_graph - Bypassing database vector search and graph traversal. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 194, "funcName": "retrieve_documents_from_graph", "created": 1747847497.665281, "msecs": 665.0, "relativeCreated": 3656.841039657593, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: Returned 3 mock documents (nodes).", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 208, "funcName": "retrieve_documents_from_graph", "created": 1747847497.665333, "msecs": 665.0, "relativeCreated": 3656.893014907837, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "noderag.pipeline", "msg": "NodeRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/noderag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 217, "funcName": "generate_answer", "created": 1747847497.6654139, "msecs": 665.0, "relativeCreated": 3656.9738388061523, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.665518, "msecs": 665.0, "relativeCreated": 3657.0780277252197, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "NodeRAG pipeline completed in 0.00 seconds", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 504, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.665566, "msecs": 665.0, "relativeCreated": 3657.125949859619, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Running GraphRAG pipeline with query: What are the symptoms of diabetes?", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 478, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.66561, "msecs": 665.0, "relativeCreated": 3657.170057296753, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: Running pipeline for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 243, "funcName": "run", "created": 1747847497.6656692, "msecs": 665.0, "relativeCreated": 3657.22918510437, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: retrieve_documents_via_kg - Bypassing database vector search and graph traversal. Returning mock documents.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 194, "funcName": "retrieve_documents_via_kg", "created": 1747847497.66571, "msecs": 665.0, "relativeCreated": 3657.2699546813965, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: Returned 3 mock documents (nodes).", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 208, "funcName": "retrieve_documents_via_kg", "created": 1747847497.6657548, "msecs": 665.0, "relativeCreated": 3657.3147773742676, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "graphrag.pipeline", "msg": "GraphRAG: Generating final answer for query: 'What are the symptoms of diabetes?...'", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/graphrag/pipeline.py", "filename": "pipeline.py", "module": "pipeline", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 217, "funcName": "generate_answer", "created": 1747847497.665811, "msecs": 665.0, "relativeCreated": 3657.3710441589355, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "RAG result verification passed for query: What are the symptoms of diabetes?...", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 249, "funcName": "verify_rag_result", "created": 1747847497.665899, "msecs": 665.0, "relativeCreated": 3657.459020614624, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}, {"name": "tests.test_e2e_rag_persistent", "msg": "GraphRAG pipeline completed in 0.00 seconds", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 504, "funcName": "test_all_pipelines_with_same_query", "created": 1747847497.665937, "msecs": 665.0, "relativeCreated": 3657.496929168701, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 6812, "taskName": null, "asctime": "2025-05-21 13:11:37"}], "longrepr": "real_iris_connection = <intersystems_iris.IRISConnection object at 0x110048140>\nreal_embedding_func = <function build_hf_embedder.<locals>.embedding_func_hf at 0x122f53060>\nreal_llm_func = <function get_llm_func.<locals>.query_llm at 0x30983a340>\ncolbert_query_encoder = <function colbert_query_encoder.<locals>.simple_colbert_query_encoder at 0x309838e00>\nweb_search_func = <function web_search_func.<locals>.mock_web_search at 0x309838540>\nsample_medical_queries = [{'expected_keywords': ['diabetes', 'symptom', 'glucose', 'insulin'], 'min_doc_count': 2, 'query': 'What are the sympt...tment', 'cognitive', 'memory'], 'min_doc_count': 2, 'query': \"What treatments are available for Alzheimer's disease?\"}]\n\n    def test_all_pipelines_with_same_query(\n        real_iris_connection,\n        real_embedding_func,\n        real_llm_func,\n        colbert_query_encoder,\n        web_search_func,\n        sample_medical_queries\n    ):\n        \"\"\"\n        Compares results from all pipelines with the same query.\n        \"\"\"\n        logger.info(\"Running test_all_pipelines_with_same_query\")\n    \n        # Use the same query for all pipelines\n        query_data = sample_medical_queries[0]\n        query = query_data[\"query\"]\n        expected_keywords = query_data[\"expected_keywords\"]\n        min_doc_count = query_data[\"min_doc_count\"]\n    \n        # Initialize all pipelines with their correct parameters\n        pipelines = {\n            \"BasicRAG\": BasicRAGPipeline(\n                iris_connector=real_iris_connection,\n                embedding_func=real_embedding_func,\n                llm_func=real_llm_func\n            ),\n            \"HyDE\": HyDEPipeline(\n                iris_connector=real_iris_connection,\n                embedding_func=real_embedding_func,\n                llm_func=real_llm_func\n            ),\n            \"CRAG\": CRAGPipeline(\n                iris_connector=real_iris_connection,\n                embedding_func=real_embedding_func,\n                llm_func=real_llm_func,\n                web_search_func=web_search_func\n            ),\n            \"ColBERT\": ColbertRAGPipeline(\n                iris_connector=real_iris_connection,\n                colbert_query_encoder_func=colbert_query_encoder,\n                colbert_doc_encoder_func=colbert_query_encoder,  # Use the same function for both\n                llm_func=real_llm_func\n            ),\n            \"NodeRAG\": NodeRAGPipeline(\n                iris_connector=real_iris_connection,\n                embedding_func=real_embedding_func,\n                llm_func=real_llm_func,\n                graph_lib=None  # Use None as a placeholder\n            ),\n            \"GraphRAG\": GraphRAGPipeline(\n                iris_connector=real_iris_connection,\n                embedding_func=real_embedding_func,\n                llm_func=real_llm_func\n            )\n        }\n    \n        # Run all pipelines and collect results\n        results = {}\n        for name, pipeline in pipelines.items():\n            logger.info(f\"Running {name} pipeline with query: {query}\")\n            try:\n                start_time = time.time()\n    \n                # Call run with the appropriate parameters based on pipeline type\n                if name == \"NodeRAG\":\n                    result = pipeline.run(query, top_k_seeds=5)\n                elif name == \"GraphRAG\":\n                    result = pipeline.run(query, top_n_start_nodes=5)\n                else:\n                    result = pipeline.run(query, top_k=5)\n    \n                elapsed_time = time.time() - start_time\n    \n                # Verify the result with the appropriate pipeline type\n                if name == \"CRAG\":\n                    verify_rag_result(result, query, expected_keywords, min_doc_count, pipeline_type=\"crag\")\n                else:\n                    verify_rag_result(result, query, expected_keywords, min_doc_count)\n    \n                # Store the result and elapsed time\n                results[name] = {\n                    \"result\": result,\n                    \"elapsed_time\": elapsed_time\n                }\n    \n                logger.info(f\"{name} pipeline completed in {elapsed_time:.2f} seconds\")\n            except Exception as e:\n                logger.error(f\"Error running {name} pipeline: {e}\")\n                results[name] = {\n                    \"error\": str(e)\n                }\n    \n        # Compare the results\n        # Check that all pipelines returned results\n        assert len(results) == len(pipelines), f\"Expected results from all {len(pipelines)} pipelines, got {len(results)}\"\n    \n        # Check that all pipelines returned valid results\n        for name, result_data in results.items():\n>           assert \"error\" not in result_data, f\"{name} pipeline failed with error: {result_data.get('error')}\"\nE           AssertionError: CRAG pipeline failed with error: Expected at least 1 items to contain keywords ['diabetes', 'symptom', 'glucose', 'insulin'], got 0\nE             assert 0 >= 1\nE           assert 'error' not in {'error': \"Expected at least 1 items to contain keywords ['diabetes', 'symptom', 'glucose', 'insulin'], got 0\\nassert 0 >= 1\"}\n\ntests/test_e2e_rag_persistent.py:517: AssertionError"}, "teardown": {"duration": 0.0001279159914702177, "outcome": "passed"}}]}