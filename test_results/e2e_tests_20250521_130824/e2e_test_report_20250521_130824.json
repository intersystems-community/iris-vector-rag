{"created": 1747847304.837719, "duration": 0.09283876419067383, "exitcode": 1, "root": "/Users/tdyar/ws/rag-templates", "environment": {}, "summary": {"error": 7, "total": 7, "collected": 7}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_rag_persistent.py", "type": "Module"}]}, {"nodeid": "tests/test_e2e_rag_persistent.py", "outcome": "passed", "result": [{"nodeid": "tests/test_e2e_rag_persistent.py::test_basic_rag_with_real_data", "type": "Function", "lineno": 234}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_hyde_with_real_data", "type": "Function", "lineno": 261}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_crag_with_real_data", "type": "Function", "lineno": 288}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_colbert_with_real_data", "type": "Function", "lineno": 316}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_noderag_with_real_data", "type": "Function", "lineno": 345}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_graphrag_with_real_data", "type": "Function", "lineno": 374}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_all_pipelines_with_same_query", "type": "Function", "lineno": 401}]}], "tests": [{"nodeid": "tests/test_e2e_rag_persistent.py::test_basic_rag_with_real_data", "lineno": 234, "outcome": "error", "keywords": ["test_basic_rag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 0.022692167025525123, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "stdout": "Using pure HuggingFace embedder for model: intfloat/e5-base-v2\n", "stderr": "INFO:common.iris_connector:IRIS_CONNECTION_URL not set, using individual parameters/defaults.\nINFO:common.iris_connector:Connecting to IRIS at localhost:1972/USER\nINFO:common.iris_connector:Successfully connected to IRIS (DBAPI connection test successful).\nINFO:tests.test_e2e_rag_persistent:Using real IRIS connection with 1100 documents\n", "log": [{"name": "common.iris_connector", "msg": "IRIS_CONNECTION_URL not set, using individual parameters/defaults.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/common/iris_connector.py", "filename": "iris_connector.py", "module": "iris_connector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 46, "funcName": "get_real_iris_connection", "created": 1747847304.761919, "msecs": 761.0, "relativeCreated": 182.22689628601074, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 3382, "taskName": null, "asctime": "2025-05-21 13:08:24"}, {"name": "common.iris_connector", "msg": "Connecting to IRIS at localhost:1972/USER", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/common/iris_connector.py", "filename": "iris_connector.py", "module": "iris_connector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 64, "funcName": "get_real_iris_connection", "created": 1747847304.7621272, "msecs": 762.0, "relativeCreated": 182.4350357055664, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 3382, "taskName": null, "asctime": "2025-05-21 13:08:24"}, {"name": "common.iris_connector", "msg": "Successfully connected to IRIS (DBAPI connection test successful).", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/common/iris_connector.py", "filename": "iris_connector.py", "module": "iris_connector", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 74, "funcName": "get_real_iris_connection", "created": 1747847304.7828548, "msecs": 782.0, "relativeCreated": 203.16267013549805, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 3382, "taskName": null, "asctime": "2025-05-21 13:08:24"}, {"name": "tests.test_e2e_rag_persistent", "msg": "Using real IRIS connection with 1100 documents", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Users/tdyar/ws/rag-templates/tests/test_e2e_rag_persistent.py", "filename": "test_e2e_rag_persistent.py", "module": "test_e2e_rag_persistent", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 97, "funcName": "real_iris_connection", "created": 1747847304.783922, "msecs": 783.0, "relativeCreated": 204.22983169555664, "thread": 8572176448, "threadName": "MainThread", "processName": "MainProcess", "process": 3382, "taskName": null, "asctime": "2025-05-21 13:08:24"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 0.00012224999954923987, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_hyde_with_real_data", "lineno": 261, "outcome": "error", "keywords": ["test_hyde_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 9.312498150393367e-05, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 8.124997839331627e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_crag_with_real_data", "lineno": 288, "outcome": "error", "keywords": ["test_crag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 7.820903556421399e-05, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 6.979203317314386e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_colbert_with_real_data", "lineno": 316, "outcome": "error", "keywords": ["test_colbert_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 6.70420122332871e-05, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 0.00010837498120963573, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_noderag_with_real_data", "lineno": 345, "outcome": "error", "keywords": ["test_noderag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 8.141697617247701e-05, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 8.420797530561686e-05, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_graphrag_with_real_data", "lineno": 374, "outcome": "error", "keywords": ["test_graphrag_with_real_data", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 7.391598774120212e-05, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 0.00013095902977511287, "outcome": "passed"}}, {"nodeid": "tests/test_e2e_rag_persistent.py::test_all_pipelines_with_same_query", "lineno": 401, "outcome": "error", "keywords": ["test_all_pipelines_with_same_query", "test_e2e_rag_persistent.py", "tests", "rag-templates", ""], "setup": {"duration": 0.000139000010676682, "outcome": "failed", "crash": {"path": "/Users/tdyar/ws/rag-templates/common/utils.py", "lineno": 54, "message": "ModuleNotFoundError: No module named 'torch'"}, "traceback": [{"path": "tests/test_e2e_rag_persistent.py", "lineno": 106, "message": ""}, {"path": "common/utils.py", "lineno": 104, "message": "in get_embedding_func"}, {"path": "common/utils.py", "lineno": 54, "message": "ModuleNotFoundError"}], "longrepr": "@pytest.fixture(scope=\"module\")\n    def real_embedding_func():\n        \"\"\"\n        Provides a real embedding function for testing.\n        \"\"\"\n        from common.utils import get_embedding_func\n>       embed_func = get_embedding_func()\n\ntests/test_e2e_rag_persistent.py:106: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncommon/utils.py:104: in get_embedding_func\n    return build_hf_embedder(model_name)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmodel_name = 'intfloat/e5-base-v2'\n\n    def build_hf_embedder(model_name: str = DEFAULT_EMBEDDING_MODEL):\n        \"\"\"\n        Builds an embedding function using HuggingFace transformers directly.\n        Includes tokenization, model inference, mean pooling, and normalization.\n        Caches tokenizer and model per model_name.\n        \"\"\"\n        global _hf_embedder_cache\n>       import torch\nE       ModuleNotFoundError: No module named 'torch'\n\ncommon/utils.py:54: ModuleNotFoundError"}, "teardown": {"duration": 0.0001045420067384839, "outcome": "passed"}}]}